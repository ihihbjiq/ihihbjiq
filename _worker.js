const _0x5a1b34=_0x3ac9;(function(_0x53b7bd,_0x19ada6){const _0x34b9ef=_0x3ac9;const _0x1965a8=_0x53b7bd();while(!![]){try{const _0x3330f2=-parseInt(_0x34b9ef(0xc5))/0x1*(-parseInt(_0x34b9ef(0x22e))/0x2)+parseInt(_0x34b9ef(0x1fb))/0x3+-parseInt(_0x34b9ef(0x1c7))/0x4*(-parseInt(_0x34b9ef(0x141))/0x5)+parseInt(_0x34b9ef(0x249))/0x6*(-parseInt(_0x34b9ef(0x233))/0x7)+parseInt(_0x34b9ef(0x25e))/0x8+-parseInt(_0x34b9ef(0x19f))/0x9*(-parseInt(_0x34b9ef(0x243))/0xa)+parseInt(_0x34b9ef(0x12e))/0xb*(-parseInt(_0x34b9ef(0x93))/0xc);if(_0x3330f2===_0x19ada6){break;}else{_0x1965a8['push'](_0x1965a8['shift']());}}catch(_0x4b8f8d){_0x1965a8['push'](_0x1965a8['shift']());}}}(_0x1cf3,0xc2e55));import{connect}from'cloudflare:sockets';let userID='';let proxyIP='';let DNS64Server='';let subConverter=atob(_0x5a1b34(0x21b));let subConfig=atob('aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvY29uZmlnL0FDTDRTU1JfT25saW5lX01pbmlfTXVsdGlNb2RlLmluaQ==');let subProtocol='https';let subEmoji=_0x5a1b34(0x1de);let socks5Address='';let parsedSocks5Address={};function _0x1cf3(){const _0x3f367d=['replace','WebSocket\x20服务器发生错误','/sub?host=','country','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_v2ray\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clash-meta<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','SOCKS5\x20服务器认证失败','/proxyip=','tcp\x20',',\x20ID:\x20','redirect','as199524','GO2SOCKS5','text','<strong>?socks5=user:password@127.0.0.1:1080</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>6.</strong>\x20如需指定多个参数则需要使用\x27&\x27做间隔，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://','byteLength','UA:\x20','Proxy-Authorization:\x20Basic\x20','<br>','TOKEN','accept',')\x20TCP\x20连接异常中断','\x20天<br>UPTIME（动态UUID更新时间）:\x20','CFCDN（访问方式）:\x20内置兜底,\x20您也可以设置\x20proxyIP/PROXYIP\x20。<br>','padStart','虚假HOST:\x20','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','/sub?target=clash&url=','function','substr','pathname','DoH解析出错:','2086','getUint8','write','match','无效的IPv4地址','?loon</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_5\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>实用订阅技巧∨</a></strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>1.</strong>\x20如您使用的是\x20PassWall、PassWall2\x20路由插件，订阅编辑的\x20<strong>用户代理(User-Agent)</strong>\x20设置为\x20<strong>PassWall</strong>\x20即可；<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>2.</strong>\x20如您使用的是\x20SSR+\x20路由插件，推荐使用\x20<strong>Base64订阅地址</strong>\x20进行订阅；<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>3.</strong>\x20快速切换\x20<a\x20href=\x27','signal','最终生成','worker','entries','到期时间(UTC):\x20','abort','socks','查询时间范围:\x20','Error\x20sending\x20message:','TIME','body','TLS','无效的IP地址:\x20','ADDCSV','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','pipeTo','?clash</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_2\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20singbox订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22editor\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22','ADDNOTLSAPI',':\x27\x20+\x20port\x20+\x20\x27/cdn-cgi/trace\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20signal:\x20controller.signal,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mode:\x20\x27cors\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查响应状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20latency\x20=\x20Date.now()\x20-\x20startTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20responseText\x20=\x20await\x20response.text();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20解析trace响应\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20traceData\x20=\x20parseTraceResponse(responseText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(traceData\x20&&\x20traceData.ip\x20&&\x20traceData.colo)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20判断IP类型\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20responseIP\x20=\x20traceData.ip;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipType\x20=\x20\x27official\x27;\x20//\x20默认官方IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否是IPv6（包含冒号）或者IP相等\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(responseIP.includes(\x27:\x27)\x20||\x20responseIP\x20===\x20ip)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipType\x20=\x20\x27proxy\x27;\x20//\x20反代IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果responseIP与ip不相等且不是IPv6，则是官方IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip:\x20ip,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20latency:\x20latency,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colo:\x20traceData.colo,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20type:\x20ipType,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20responseIP:\x20responseIP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20latency\x20=\x20Date.now()\x20-\x20startTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否是真正的超时（接近设定的timeout时间）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(latency\x20>=\x20timeout\x20-\x20100)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：解析trace响应的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20parseTraceResponse(responseText)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20lines\x20=\x20responseText.split(\x27\x5cn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(const\x20line\x20of\x20lines)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20trimmedLine\x20=\x20line.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(trimmedLine\x20&&\x20trimmedLine.includes(\x27=\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20[key,\x20value]\x20=\x20trimmedLine.split(\x27=\x27,\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data[key]\x20=\x20value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27解析trace响应失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20testIPsWithConcurrency(ips,\x20port,\x20maxConcurrency\x20=\x2032)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20results\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20totalIPs\x20=\x20ips.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20completedTests\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressText\x20=\x20document.getElementById(\x27progress-text\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建工作队列\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20index\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20worker()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(index\x20<\x20ips.length)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentIndex\x20=\x20index++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ip\x20=\x20ips[currentIndex];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20testIP(ip,\x20port);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20results.push(result);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20completedTests++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新进度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progress\x20=\x20(completedTests\x20/\x20totalIPs)\x20*\x20100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20progress\x20+\x20\x27%\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20`${completedTests}/${totalIPs}\x20(${progress.toFixed(1)}%)\x20-\x20有效IP:\x20${results.length}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建工作线程\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20workers\x20=\x20Array(Math.min(maxConcurrency,\x20ips.length))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.fill()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.map(()\x20=>\x20worker());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20Promise.all(workers);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20results;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20startTest()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressText\x20=\x20document.getElementById(\x27progress-text\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipCount\x20=\x20document.getElementById(\x27ip-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedPort\x20=\x20portSelect.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedIPSource\x20=\x20ipSourceSelect.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20保存当前选择到本地存储\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.PORT,\x20selectedPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.IP_SOURCE,\x20selectedIPSource);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27加载IP列表...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[];\x20//\x20重置显示结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27loading\x27;\x20//\x20设置当前显示类型\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>正在加载IP列表，请稍候...</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x20//\x20更新按钮状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20重置进度条\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20\x270%\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20根据IP库类型显示对应的加载信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipSourceName\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20switch(selectedIPSource)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27official\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF官方\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27cm\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CM整理\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as13335\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF全段\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as209242\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF非官方\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as24429\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27Alibaba\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as199524\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27G-Core\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27proxyip\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27反代IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20default:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27未知\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27正在加载\x20\x27\x20+\x20ipSourceName\x20+\x20\x27\x20IP列表...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20加载IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20originalIPs\x20=\x20await\x20loadIPs(selectedIPSource,\x20selectedPort);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>加载IP列表失败，请重试</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipCount.textContent\x20=\x20\x270\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27开始延迟测试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27加载失败\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新IP数量显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipCount.textContent\x20=\x20originalIPs.length\x20+\x20\x27\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示加载的IP列表（默认显示前16个）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayLoadedIPs();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20开始测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27测试中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27开始测试端口\x20\x27\x20+\x20selectedPort\x20+\x20\x27...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27testing\x27;\x20//\x20切换到测试状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20在测试开始时隐藏显示更多按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用更高的并发数（从16增加到32）来加快测试速度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20results\x20=\x20await\x20testIPsWithConcurrency(originalIPs,\x20selectedPort,\x2032);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20按延迟排序\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testResults\x20=\x20results.sort((a,\x20b)\x20=>\x20a.latency\x20-\x20b.latency);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27results\x27;\x20//\x20切换到结果显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建地区筛选器\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20createRegionFilter();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27重新测试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27完成\x20-\x20有效IP:\x20\x27\x20+\x20testResults.length\x20+\x20\x27/\x27\x20+\x20originalIPs.length\x20+\x20\x27\x20(端口:\x20\x27\x20+\x20selectedPort\x20+\x20\x27,\x20IP库:\x20\x27\x20+\x20ipSourceName\x20+\x20\x27)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：加载IP列表的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadIPs(ipSource,\x20port)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`?loadIPs=${ipSource}&port=${port}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27GET\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Failed\x20to\x20load\x20IPs\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data.ips\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27加载IP列表失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayResults()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(testResults.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>未找到有效的IP</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20确定显示数量\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxDisplayCount\x20=\x20showingAll\x20?\x20testResults.length\x20:\x20Math.min(testResults.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20testResults.slice(0,\x20maxDisplayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新结果计数显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(testResults.length\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示全部\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个测试结果\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示前\x20\x27\x20+\x20maxDisplayCount\x20+\x20\x27\x20个测试结果，共\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x20//\x20确保在结果显示时启用按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultsHTML\x20=\x20displayedResults.map(result\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20className\x20=\x20\x27good-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result.latency\x20>\x20200)\x20className\x20=\x20\x27bad-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(result.latency\x20>\x20100)\x20className\x20=\x20\x27medium-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x27<div\x20class=\x22ip-item\x20\x27\x20+\x20className\x20+\x20\x27\x22>\x27\x20+\x20result.display\x20+\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20resultsHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：创建地区筛选器\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20createRegionFilter()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取所有唯一的地区代码（使用cca2代码）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20uniqueRegions\x20=\x20[...new\x20Set(testResults.map(result\x20=>\x20result.locationCode))];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniqueRegions.sort();\x20//\x20按字母顺序排序\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filterContainer\x20=\x20document.getElementById(\x27region-filter\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!filterContainer)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(uniqueRegions.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建筛选按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20filterHTML\x20=\x20\x27<h3>地区筛选：</h3><div\x20class=\x22region-buttons\x22>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27<button\x20class=\x22region-btn\x20active\x22\x20data-region=\x22all\x22>全部\x20(\x27\x20+\x20testResults.length\x20+\x20\x27)</button>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniqueRegions.forEach(region\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20count\x20=\x20testResults.filter(r\x20=>\x20r.locationCode\x20===\x20region).length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27<button\x20class=\x22region-btn\x22\x20data-region=\x22\x27\x20+\x20region\x20+\x20\x27\x22>\x27\x20+\x20region\x20+\x20\x27\x20(\x27\x20+\x20count\x20+\x20\x27)</button>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.innerHTML\x20=\x20filterHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.region-btn\x27).forEach(button\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新活动按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.region-btn\x27).forEach(btn\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.classList.remove(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20筛选结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedRegion\x20=\x20this.getAttribute(\x27data-region\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(selectedRegion\x20===\x20\x27all\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[...testResults];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20testResults.filter(result\x20=>\x20result.locationCode\x20===\x20selectedRegion);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayFilteredResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：显示筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayFilteredResults()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(displayedResults.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>未找到有效的IP</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20确定显示数量\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxDisplayCount\x20=\x20showingAll\x20?\x20displayedResults.length\x20:\x20Math.min(displayedResults.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentResults\x20=\x20displayedResults.slice(0,\x20maxDisplayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新结果计数显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20totalCount\x20=\x20testResults.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filteredCount\x20=\x20displayedResults.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(filteredCount\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20totalCount\x20+\x20\x27\x20个有效IP，筛选出\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示全部\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个筛选结果\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20totalCount\x20+\x20\x27\x20个有效IP，筛选出\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示前\x20\x27\x20+\x20maxDisplayCount\x20+\x20\x27\x20个筛选结果，共\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultsHTML\x20=\x20currentResults.map(result\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20className\x20=\x20\x27good-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result.latency\x20>\x20200)\x20className\x20=\x20\x27bad-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(result.latency\x20>\x20100)\x20className\x20=\x20\x27medium-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x27<div\x20class=\x22ip-item\x20\x27\x20+\x20className\x20+\x20\x27\x22>\x27\x20+\x20result.display\x20+\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20resultsHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','127.0.0.1:1234#CFnat','application/dns-message','retry\x20tcpSocket\x20closed\x20error','TGID','?loon\x27,\x27qrcode_5\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','优选地址','sort','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v2ray<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27',';\x20filename*=utf-8\x27\x27',';\x20download=','getReader','MD5','https://api.telegram.org/bot','getWriter','error','application/json','reduce','?sb\x27,\x27qrcode_3\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','处理POST请求时发生错误:','#CF随机节点','Kg==','解析IP行失败:\x20','Upgrade','join','isArray','readableWebSocketStream\x20已中止','<p>未绑定KV空间</p>','Host','可读流被取消，原因是\x20','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/24429/ipv4-aggregated.txt','90RGmYVH','searchParams','内容过大，超过KV存储限制（24MB）','length','enqueue','null','uuid','url','getUint16','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','?sb</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_3\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loon订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','as13335','ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20<br>&nbsp;&nbsp;','get','CSV文件缺少必需的字段','只有一个账户，使用第\x200\x20个账户','https://www.cloudflare.com/ips-v4/','closed','无效的端口号:\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UA:\x20','remoteSocketToWS\x20has\x20exception\x20','arrayBuffer','no-store','处理\x20TCP\x20出站连接\x20','https://api.cloudflare.com/client/v4/accounts','some','处理请求时发生错误:','\x20通过代理\x20','&fdn=false&sort=false&new_name=true','GraphQL查询错误:','slice','safeCloseWebSocket\x20error','获取账户信息失败:\x20',',\x20servername:\x20','8443','toUpperCase','\x20个）','SUB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22editor-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel','6318412OsbHEK','add','Answer','readableWebSocketStream\x20已关闭','attachment;\x20filename=','https://1.1.1.1/dns-query','CIDR\x20','/sendMessage?chat_id=','CF_APIKEY','digest','invild\x20addressType\x20is\x20','L2VkZ2V0dW5uZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS9jbWxpdS9lZGdldHVubmVsKQ==','finally','\x20个重复项','\x22,\x20headers:\x20{',':443','udp\x20','https://raw.githubusercontent.com/cmliu/ACL4SSR/main/baipiao.txt','CF_EMAIL','every','EMOJI','query\x20getBillingMetrics($accountId:\x20String!,\x20$filter:\x20AccountWorkersInvocationsAdaptiveFilter_InputObject)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20accounts(filter:\x20{accountTag:\x20$accountId})\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pagesFunctionsInvocationsAdaptiveGroups(limit:\x201000,\x20filter:\x20$filter)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sum\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20requests\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20workersInvocationsAdaptive(limit:\x2010000,\x20filter:\x20$filter)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sum\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20requests\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','Content-Type','true','text/html;charset=utf-8','setUint8','getTime','104.16.0.0/13','<br>SUBAPI（订阅转换后端）:\x20<a\x20href=\x27','\x20优选订阅列表:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>注意事项∨</a></strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ADD.txt','proxyip.','dns\x20udp\x20has\x20error','\x0a<tg-spoiler>入口:\x20','mozilla','Mozilla/5.0\x20Chrome/90.0.4430.72','pop','\x0a<tg-spoiler>','search','workers.dev','正在获取账户信息...','&emoji=','获取CSV地址时出错:','2052','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','stringify','CSVREMARK','443','b64','SOCKS5\x20服务器版本错误:\x20收到\x20','&sni=','delete','1974231NBhFMT','ADDAPI','releaseLock','P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT10bHMmc25pPQ==',',\x20tls:\x20','TGTOKEN','https://raw.githubusercontent.com/cmliu/cmliu/main/CF-CIDR.txt','&insert=false&config=','LmlwLjA5MDIyNy54eXo=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>优选订阅列表</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22utf-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x20/*\x20设置全局字体大小\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.editor-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.editor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20520px;\x20/*\x20调整高度\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x20/*\x20调整margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x20/*\x20调整margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x20/*\x20调整gap\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn,\x20.back-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2015px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#45a049;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.back-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.back-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.bestip-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.bestip-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1976D2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-status\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.notice-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','decode',',\x20network:\x20','proxyip','\x20个账户','&path=','trim','aXAuMDkwMjI3Lnh5eg==','最终选择账户\x20',';\x20total=','%3D','\x0a\x20\x20\x20\x20<div\x20class=\x22warning-notice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>🚨\x20代理检测警告</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>检测到您当前很可能处于代理/VPN环境中！</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>在代理状态下进行的IP优选测试结果将不准确，可能导致：</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>延迟数据失真，无法反映真实网络状况</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>优选出的IP在直连环境下表现不佳</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>测试结果对实际使用场景参考价值有限</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>建议操作：</strong>请关闭所有代理软件（VPN、科学上网工具等），确保处于直连网络环境后重新访问本页面。</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','GraphQL查询失败:\x20','push','服务器错误:\x20','SOCKS5','value','}}}','PROXYIP','CONNECT\x20','\x0d\x0a\x0d\x0a','readable','as209242','U1VCQVBJLkNNTGl1c3Nzcy5uZXQ=','未提供账户ID，正在自动获取...','*.loadshare.org','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22content\x22>','CFPORTS','remoteConnection!.readable\x20abort','SHA-256','&allowInsecure=1','操作失败:\x20','from','&type=A','protocol','command\x20','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_0\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Base64订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','无效的地址类型:\x20','loadIPs','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NtbGl1L2NtbGl1L21haW4vUHJveHlIT1NU','Connection:\x20Keep-Alive\x0d\x0a','正在连接到\x20','1616642BiOlmv','test','startsWith','append','Error\x20fetching\x20content:\x20','8879122WzTCFM','请设置你的UUID变量，或尝试重试部署，检查变量是否生效？','1,40-60,30-50,tlshello','text/html;\x20charset=UTF-8','CF-Workers-SUB','charCodeAt','pswd','TRUE','Q0YtV29ya2Vycy1lZGdldHVubmVsL2NtbGl1','发现\x20','addEventListener','<strong>?sub=sub.google.com</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>4.</strong>\x20快速更换\x20PROXYIP\x20至：proxyip.cmliussss.net:443，您可将\x22?proxyip=proxyip.cmliussss.net:443\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;\x20https://','headers','aHR0cHM6Ly8xLjEuMS4xL2Rucy1xdWVyeT9uYW1lPW5hdDY0LmNtbGl1c3Nzcy5uZXQmdHlwZT1UWFQ=','HTTP代理连接中断','/bestip','1107830qvJsGW','invalid\x20user\x20','ceil','\x20个，现共\x20','CFCDN（访问方式）:\x20自动获取ProxyIP<br>','RPROXYIP','6KYpHFW','UFJPWFlJUC50cDEuMDkwMjI3Lnh5eg==','random','.tp','HTTP/1.0\x20200','&fp=random&type=ws&host=','CF_ALL','PASSWORD','请提供用户名和密码','subconverter','now','</tg-spoiler>\x0a域名:\x20','DNS64Server查询失败:','.workers.dev',':\x27\x20+\x20port\x20+\x20\x27/cdn-cgi/trace\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20signal:\x20controller.signal,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mode:\x20\x27cors\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(preRequestError)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20预请求失败可以忽略，继续进行正式测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27预请求失败\x20(\x27\x20+\x20ip\x20+\x20\x27:\x27\x20+\x20port\x20+\x20\x27):\x27,\x20preRequestError.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20正式延迟测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20startTime\x20=\x20Date.now();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20controller\x20=\x20new\x20AbortController();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeoutId\x20=\x20setTimeout(()\x20=>\x20controller.abort(),\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ip.split(\x27.\x27).map(part\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hex\x20=\x20parseInt(part,\x2010).toString(16);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20hex.length\x20===\x201\x20?\x20\x270\x27\x20+\x20hex\x20:\x20hex;\x20//\x20补零\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nip\x20=\x20parts.join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27https://\x27\x20+\x20nip\x20+\x20\x27.','QUREJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCnZpc2EuY24lMjMlRTQlQkMlOTglRTklODAlODklRTUlOUYlOUYlRTUlOTAlOEQKMTI3LjAuMC4xJTNBMTIzNCUyM0NGbmF0CiU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MyUyM0lQdjYKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QQolRTYlQUYlOEYlRTglQTElOEMlRTQlQjglODAlRTQlQjglQUElRTUlOUMlQjAlRTUlOUQlODAlRUYlQkMlOEMlRTYlQTAlQkMlRTUlQkMlOEYlRTQlQjglQkElMjAlRTUlOUMlQjAlRTUlOUQlODAlM0ElRTclQUIlQUYlRTUlOEYlQTMlMjMlRTUlQTQlODclRTYlQjMlQTgKSVB2NiVFNSU5QyVCMCVFNSU5RCU4MCVFOSU5QyU4MCVFOCVBNiU4MSVFNyU5NCVBOCVFNCVCOCVBRCVFNiU4QiVBQyVFNSU4RiVCNyVFNiU4QiVBQyVFOCVCNSVCNyVFNiU5RCVBNSVFRiVCQyU4QyVFNSVBNiU4MiVFRiVCQyU5QSU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MwolRTclQUIlQUYlRTUlOEYlQTMlRTQlQjglOEQlRTUlODYlOTklRUYlQkMlOEMlRTklQkIlOTglRTglQUUlQTQlRTQlQjglQkElMjA0NDMlMjAlRTclQUIlQUYlRTUlOEYlQTMlRUYlQkMlOEMlRTUlQTYlODIlRUYlQkMlOUF2aXNhLmNuJTIzJUU0JUJDJTk4JUU5JTgwJTg5JUU1JTlGJTlGJUU1JTkwJThECgoKQUREQVBJJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGcmVmcyUyRmhlYWRzJTJGbWFpbiUyRmFkZHJlc3Nlc2FwaS50eHQKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QUFEREFQSSVFNyU5QiVCNCVFNiU4RSVBNSVFNiVCNyVCQiVFNSU4QSVBMCVFNyU5QiVCNCVFOSU5MyVCRSVFNSU4RCVCMyVFNSU4RiVBRg==','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allSettled','获取地址时出错:','http://','ADD','3950832EpmvYD','toFixed','.pages.dev','http://ip-api.com/json/','workersInvocationsAdaptive','URL302','\x0a国家:\x20','HTTP/1.1\x20200','SUBAPI','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22back-btn\x22\x20onclick=\x22goBack()\x22>返回配置页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bestip-btn\x22\x20onclick=\x22goBestIP()\x22>在线优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22save-btn\x22\x20onclick=\x22saveContent(this)\x22>保存</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22save-status\x22\x20id=\x22saveStatus\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20Workers:\x20','min','保存失败:\x20','CFCDN（访问方式）:\x20ProxyIP<br>&nbsp;&nbsp;','DNS\x20服务器(','/96','ZWRnZXR1bm5lbA==','clash','handleDNSQuery\x20函数发生异常，错误信息:\x20','&fragment=','发送HTTP\x20CONNECT请求失败:\x20','GET','\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>统计信息</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>您的国家：</strong><span\x20class=\x22','个不重复IP','reject','2082',')\x20TCP\x20连接已关闭','flatMap','未绑定KV空间','false','setUTCHours','SOCKS5\x20连接已建立','\x20个账户，正在智能匹配...','nekobox','bmlwLmxmcmVlLm9yZw==','connected\x20to\x20','readyState','\x0a\x09<!DOCTYPE\x20html>\x0a\x09<html>\x0a\x09<head>\x0a\x09<title>Welcome\x20to\x20nginx!</title>\x0a\x09<style>\x0a\x09\x09body\x20{\x0a\x09\x09\x09width:\x2035em;\x0a\x09\x09\x09margin:\x200\x20auto;\x0a\x09\x09\x09font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x09\x09}\x0a\x09</style>\x0a\x09</head>\x0a\x09<body>\x0a\x09<h1>Welcome\x20to\x20nginx!</h1>\x0a\x09<p>If\x20you\x20see\x20this\x20page,\x20the\x20nginx\x20web\x20server\x20is\x20successfully\x20installed\x20and\x0a\x09working.\x20Further\x20configuration\x20is\x20required.</p>\x0a\x09\x0a\x09<p>For\x20online\x20documentation\x20and\x20support\x20please\x20refer\x20to\x0a\x09<a\x20href=\x22http://nginx.org/\x22>nginx.org</a>.<br/>\x0a\x09Commercial\x20support\x20is\x20available\x20at\x0a\x09<a\x20href=\x22http://nginx.com/\x22>nginx.com</a>.</p>\x0a\x09\x0a\x09<p><em>Thank\x20you\x20for\x20using\x20nginx.</em></p>\x0a\x09</body>\x0a\x09</html>\x0a\x09','X-New-URL','filter','LINK','ips','轮生成','.net','KEY','replaceAll','JmVkZ2V0dW5uZWw9Y21saXUmcHJveHlpcD0=','/socks://','<br>UUIDLow:\x20','\x20-\x20',';\x20expire=','未找到账户数据','CF-Connecting-IP','/sub?target=loon&url=','split',',\x20tfo:\x20false,\x20skip-cert-verify:\x20','official','*tapecontent.net','randomized','method','找不到有效的账户ID，请检查API权限','c3BlZWQuY2xvdWRmbGFyZS5jb20=','text/html,application/xhtml+xml,application/xml;','BAN','?sub\x27,\x27qrcode_0\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20<br>&nbsp;&nbsp;','保存KV时发生错误:','encode','30971352mJyEbS','substring','subtle','action','concat','toLowerCase','/http://','charAt','-\x20{name:\x20','writable','name','ADDNOTLS（noTLS优选域名&IP）:\x20<br>&nbsp;&nbsp;','Socks5','/sub?target=singbox&url=','base64','then','toISOString','8.8.4.4','/proxyip.','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/13335/ipv4-aggregated.txt','application/dns-json','解析错误:','\x20(来源行:\x20','all\x20in','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/35916/ipv4-aggregated.txt',',\x20uuid:\x20','pow','statusText','ZG14bGMzTT0=','/socks5://','无效的\x20SOCKS\x20地址格式：端口号必须是数字','<br>SUB（优选订阅生成器）:\x20','SOCKS5\x20连接建立失败','toString','JTA5JTA5JTA5JTA5JTA5JTNDc3Ryb25nJTNFMS4lM0MlMkZzdHJvbmclM0UlMjBBRERBUEklMjAlRTUlQTYlODIlRTYlOUUlOUMlRTYlOTglQUYlRTUlOEYlOEQlRTQlQkIlQTNJUCVFRiVCQyU4QyVFNSU4RiVBRiVFNCVCRCU5QyVFNCVCOCVCQVBST1hZSVAlRTclOUElODQlRTglQUYlOUQlRUYlQkMlOEMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwcm94eWlwJTNEdHJ1ZSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGYWRkcmVzc2VzYXBpLnR4dCUzQ3N0cm9uZyUzRSUzRnByb3h5aXAlM0R0cnVlJTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklM0NzdHJvbmclM0UyLiUzQyUyRnN0cm9uZyUzRSUyMEFEREFQSSUyMCVFNSVBNiU4MiVFNiU5RSU5QyVFNiU5OCVBRiUyMCUzQ2ElMjBocmVmJTNEJTI3aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGWElVMiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QlMjclM0VDbG91ZGZsYXJlU3BlZWRUZXN0JTNDJTJGYSUzRSUyMCVFNyU5QSU4NCUyMGNzdiUyMCVFNyVCQiU5MyVFNiU5RSU5QyVFNiU5NiU4NyVFNCVCQiVCNiVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NiciUzRSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCLSUyMCVFNSVBNiU4MiVFOSU5QyU4MCVFNiU4QyU4NyVFNSVBRSU5QTIwNTMlRTclQUIlQUYlRTUlOEYlQTMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwb3J0JTNEMjA1MyUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0Zwb3J0JTNEMjA1MyUzQyUyRnN0cm9uZyUzRSUzQ2JyJTNFJTNDYnIlM0UKJTA5JTA5JTA5JTA5JTA5JTI2bmJzcCUzQiUyNm5ic3AlM0ItJTIwJUU1JUE2JTgyJUU5JTlDJTgwJUU2JThDJTg3JUU1JUFFJTlBJUU4JThBJTgyJUU3JTgyJUI5JUU1JUE0JTg3JUU2JUIzJUE4JUU1JThGJUFGJUU1JUIwJTg2JTIyJTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0ZpZCUzRENGJUU0JUJDJTk4JUU5JTgwJTg5JTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQi0lMjAlRTUlQTYlODIlRTklOUMlODAlRTYlOEMlODclRTUlQUUlOUElRTUlQTQlOUElRTQlQjglQUElRTUlOEYlODIlRTYlOTUlQjAlRTUlODglOTklRTklOUMlODAlRTglQTYlODElRTQlQkQlQkYlRTclOTQlQTglMjclMjYlMjclRTUlODElOUElRTklOTclQjQlRTklOUElOTQlRUYlQkMlOEMlRTQlQkUlOEIlRTUlQTYlODIlRUYlQkMlOUElM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGbWFpbiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QuY3N2JTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUzQ3N0cm9uZyUzRSUyNiUzQyUyRnN0cm9uZyUzRXBvcnQlM0QyMDUzJTNDYnIlM0U=','，已去重\x20','&security=','fulfilled','type','轮生成IP，当前已有','Bearer\x20','Cloudflare\x20API\x20请求失败:\x20','result','Proxy-Connection:\x20Keep-Alive\x0d\x0a','as24429','addressValue\x20is\x20empty,\x20addressType\x20is\x20','warn','未找到IPv6地址','<br>您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供','CFCDN（访问方式）:\x20','1gQoHXj','read','&fp=','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/209242/ipv4-aggregated.txt','处理剩余数据错误:','\x20⚠️','none','反代IP列表解析完成，端口','put','获取\x20CF-CIDR\x20失败，使用默认值:','proxyip=true',',\x20server:\x20','获取使用量时发生错误:','URL','text/plain;charset=utf-8','/socks5=','invalid\x20data','\x20HTTP/1.1\x0d\x0a','endsWith','返回默认值：全部为0','status','?b64</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_1\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clash订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','\x20个优选IP','cHJveHlpcC5jbWxpdXNzc3MubmV0','User-Agent','\x0a组织:\x20','close','message','无效的IP:端口格式:\x20','邮箱:\x20','https://api.cloudflare.com/client/v4/graphql','HTTP','接口地址','，期望是\x205','MB），超过KV存储限制（24MB）','DNS64','达到最大轮次限制，停止生成','setHours','data','&parse_mode=HTML&text=','dmlzYS5jb20uaGs=','通过DoH解析获取到域名:\x20','无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式','服务器不接受任何认证方法','保存成功','\x0a\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20<title>Cloudflare\x20IP优选</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f5f5f5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x20400px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x202px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.stats\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e3f2fd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f3e5f5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ce93d8;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#4a148c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-info\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.proxy-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#d32f2f\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.1em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffebee;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#f44336;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#c62828;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x200\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#d32f2f;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.2em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-controls\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f9f9f9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20label\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20select\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.button-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button:not(:disabled):hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1976D2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#FF9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button:not(:disabled):hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#F57C00;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.edit-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#9C27B0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.edit-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#7B1FA2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.back-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#607D8B;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.back-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#455A64;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff3e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-warning\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message.success\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d4edda;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#155724;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#c3e6cb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message.error\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f8d7da;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#721c24;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#f5c6cb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.progress\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f0f0f0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.progress-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.good-latency\x20{\x20color:\x20#4CAF50;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.medium-latency\x20{\x20color:\x20#FF9800;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.bad-latency\x20{\x20color:\x20#f44336;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-section\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f0f0f0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#607D8B;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#455A64;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-display-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-tip\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e8f5e8;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#2e7d32;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-tip\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#1b5e20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff3e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x200\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#f57c00;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.1em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-buttons\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e0e0e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d5d5d5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20<h1>在线优选IP</h1>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20','aHR0cHM6Ly9naXRodWIuY29tL2NtbGl1L1dvcmtlclZsZXNzMnN1Yg==','<br>&nbsp;&nbsp;','HTTP代理连接失败:\x20','map','setUint16','pagesFunctionsInvocationsAdaptiveGroups','readableWebSocketStream\x20管道错误','send','json','\x20配置信息<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','链接地址','读取KV时发生错误:','成功保存\x20','://','SUBEMOJI','lastIndexOf','notls','&notls','sec-websocket-protocol','\x27>优选订阅生成器</a>\x20至：sub.google.com，您可将\x22?sub=sub.google.com\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://','ADDCSV（IPTest测速csv文件\x20限速\x20','ADDNOTLS','values','发送HTTP\x20CONNECT请求失败:','YWxsIGlu','ADD（TLS优选域名&IP）:\x20<br>&nbsp;&nbsp;','log','SOCKS5\x20服务器需要认证','https://','成功追加\x20','8080',',\x20alpn:\x20[h3],\x20udp:\x20false,\x20sni:\x20','size','errors','catch','虚假订阅:\x20','读取数据时发生错误:\x20','CF_ID',',\x20type:\x20','POST','gzip,\x20deflate,\x20br','socks5','<strong>?proxyip=proxyip.cmliussss.net:443</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>5.</strong>\x20快速更换\x20SOCKS5\x20至：user:password@127.0.0.1:1080，您可将\x22?socks5=user:password@127.0.0.1:1080\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://','FALSE','all','*cloudatacdn.com','/pyip=','singbox','buffer','/?socks5=','sub','UUID','v2rayN','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>获取到的IP总数：</strong><span\x20id=\x22ip-count\x22>点击开始测试后加载</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>测试进度：</strong><span\x20id=\x22progress-text\x22>未开始</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22\x20id=\x22progress-bar\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22test-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>📊\x20测试说明：</strong>当前优选方式仅进行网络延迟测试，主要评估连接响应速度，并未包含带宽速度测试。延迟测试可快速筛选出响应最快的IP节点，适合日常使用场景的初步优选。</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22warm-tips\x22\x20id=\x22warm-tips\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>💡\x20温馨提示</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>优选完成但测试\x22真连接延迟\x22为\x20-1？</strong>这很有可能是您的网络运营商对你的请求进行了阻断。</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>建议尝试以下解决方案：</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换端口：</strong>尝试使用其他端口（如\x202053、2083、2087、2096、8443）</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换IP库：</strong>切换到不同的IP来源（CM整理列表、AS13335、AS209242列表等，但如果你不明白AS24429和AS199524意味着什么，那就不要选。）</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换自定义域名：</strong>如果您使用的还是免费域名，那么您更应该尝试一下更换自定义域</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>💡\x20<strong>小贴士：</strong>不同地区和网络环境对各端口的支持情况可能不同，多尝试几个端口组合通常能找到适合的IP。</p>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22test-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22port-selector\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22ip-source-select\x22>IP库：</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22ip-source-select\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22official\x22>CF官方列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22cm\x22>CM整理列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as13335\x22>AS13335列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as209242\x22>AS209242列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as24429\x22>AS24429列表(Alibaba)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as199524\x22>AS199524列表(G-Core)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22proxyip\x22>反代IP列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22port-select\x22\x20style=\x22margin-left:\x2020px;\x22>端口：</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22port-select\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22443\x22>443</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222053\x22>2053</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222083\x22>2083</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222087\x22>2087</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222096\x22>2096</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x228443\x22>8443</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22button-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22test-button\x22\x20id=\x22test-btn\x22\x20onclick=\x22startTest()\x22>开始延迟测试</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22save-button\x22\x20id=\x22save-btn\x22\x20onclick=\x22saveIPs()\x22\x20disabled>覆盖保存优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22append-button\x22\x20id=\x22append-btn\x22\x20onclick=\x22appendIPs()\x22\x20disabled>追加保存优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-button\x22\x20id=\x22edit-btn\x22\x20onclick=\x22goEdit()\x22>编辑优选列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22back-button\x22\x20id=\x22back-btn\x22\x20onclick=\x22goBack()\x22>返回配置页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>⚠️\x20重要提醒：\x22覆盖保存优选IP\x22会完全覆盖当前\x20addresses/ADD\x20优选内容，请慎重考虑！建议优先使用\x22追加保存优选IP\x22功能。</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-tip\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>💡\x20保存提示：</strong>[<strong>覆盖保存优选IP</strong>]\x20和\x20[<strong>追加保存优选IP</strong>]\x20功能仅会保存延迟最低的<strong>前16个优选IP</strong>。如需添加更多IP或进行自定义编辑，请使用\x20[<strong>编辑优选列表</strong>]\x20功能。\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22message\x22\x20class=\x22message\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<h2>IP列表\x20<span\x20id=\x22result-count\x22></span></h2>\x0a\x20\x20\x20\x20<div\x20class=\x22ip-display-info\x22\x20id=\x22ip-display-info\x22></div>\x0a\x20\x20\x20\x20<div\x20id=\x22region-filter\x22\x20style=\x22margin:\x2015px\x200;\x20display:\x20none;\x22></div>\x0a\x20\x20\x20\x20<div\x20class=\x22ip-list\x22\x20id=\x22ip-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ip-item\x22>请选择端口和IP库，然后点击\x22开始延迟测试\x22加载IP列表</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22show-more-section\x22\x20id=\x22show-more-section\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22show-more-btn\x22\x20id=\x22show-more-btn\x22\x20onclick=\x22toggleShowMore()\x22>显示更多</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20originalIPs\x20=\x20[];\x20//\x20改为动态加载\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20testResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20displayedResults\x20=\x20[];\x20//\x20新增：存储当前显示的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20showingAll\x20=\x20false;\x20//\x20新增：标记是否显示全部内容\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentDisplayType\x20=\x20\x27loading\x27;\x20//\x20新增：当前显示类型\x20\x27loading\x27\x20|\x20\x27results\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20cloudflareLocations\x20=\x20{};\x20//\x20新增：存储Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：本地存储管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20StorageKeys\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PORT:\x20\x27cf-ip-test-port\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IP_SOURCE:\x20\x27cf-ip-test-source\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：加载Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadCloudflareLocations()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27https://speed.cloudflare.com/locations\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20locations\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20转换为以iata为key的对象，便于快速查找\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cloudflareLocations\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20locations.forEach(location\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cloudflareLocations[location.iata]\x20=\x20location;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27Cloudflare位置信息加载成功:\x27,\x20Object.keys(cloudflareLocations).length,\x20\x27个位置\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27无法加载Cloudflare位置信息，将使用原始colo值\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27加载Cloudflare位置信息失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27将使用原始colo值\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20初始化页面设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20initializeSettings()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20从本地存储读取上次的选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20savedPort\x20=\x20localStorage.getItem(StorageKeys.PORT);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20savedIPSource\x20=\x20localStorage.getItem(StorageKeys.IP_SOURCE);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20恢复端口选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(savedPort\x20&&\x20portSelect.querySelector(`option[value=\x22${savedPort}\x22]`))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.value\x20=\x20savedPort;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.value\x20=\x20\x278443\x27;\x20//\x20默认值\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20恢复IP库选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(savedIPSource\x20&&\x20ipSourceSelect.querySelector(`option[value=\x22${savedIPSource}\x22]`))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.value\x20=\x20savedIPSource;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.value\x20=\x20\x27official\x27;\x20//\x20默认值改为CF官方列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加事件监听器保存选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.addEventListener(\x27change\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.PORT,\x20this.value);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.addEventListener(\x27change\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.IP_SOURCE,\x20this.value);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20页面加载完成后初始化设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20async\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先加载Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadCloudflareLocations();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20然后初始化页面设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initializeSettings();\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：切换显示更多/更少\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleShowMore()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20在测试过程中不允许切换显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20===\x20\x27testing\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20!showingAll;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20===\x20\x27loading\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayLoadedIPs();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(currentDisplayType\x20===\x20\x27results\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：显示加载的IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayLoadedIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>加载IP列表失败，请重试</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20displayCount\x20=\x20showingAll\x20?\x20originalIPs.length\x20:\x20Math.min(originalIPs.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20displayIPs\x20=\x20originalIPs.slice(0,\x20displayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新显示信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20`显示全部\x20${originalIPs.length}\x20个IP`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20`显示前\x20${displayCount}\x20个IP，共加载\x20${originalIPs.length}\x20个IP`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只在非测试状态下显示\x22显示更多\x22按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20!==\x20\x27testing\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20displayIPs.map(ip\x20=>\x20`<div\x20class=\x22ip-item\x22>${ip}</div>`).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showMessage(text,\x20type\x20=\x20\x27success\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20messageDiv\x20=\x20document.getElementById(\x27message\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.textContent\x20=\x20text;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.className\x20=\x20`message\x20${type}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x203秒后自动隐藏消息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20updateButtonStates()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hasResults\x20=\x20displayedResults.length\x20>\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.disabled\x20=\x20!hasResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.disabled\x20=\x20!hasResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20disableAllButtons()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editBtn\x20=\x20document.getElementById(\x27edit-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20backBtn\x20=\x20document.getElementById(\x27back-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20enableButtons()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editBtn\x20=\x20document.getElementById(\x27edit-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20backBtn\x20=\x20document.getElementById(\x27back-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20saveIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用当前显示的结果而不是全部结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipsToSave\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.getElementById(\x27region-filter\x27)\x20&&\x20document.getElementById(\x27region-filter\x27).style.display\x20!==\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果地区筛选器可见，使用筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToSave\x20=\x20displayedResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20否则使用全部测试结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToSave\x20=\x20testResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipsToSave.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27没有可保存的IP结果\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20saveBtn.textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20禁用所有按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20disableAllButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.textContent\x20=\x20\x27保存中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只保存前16个最优IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveCount\x20=\x20Math.min(ipsToSave.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ips\x20=\x20ipsToSave.slice(0,\x20saveCount).map(result\x20=>\x20result.display);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27?action=save\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20ips\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.success)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.message\x20+\x20\x27（已保存前\x27\x20+\x20saveCount\x20+\x20\x27个最优IP）\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.error\x20||\x20\x27保存失败\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27保存失败:\x20\x27\x20+\x20error.message,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.textContent\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20enableButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20appendIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用当前显示的结果而不是全部结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipsToAppend\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.getElementById(\x27region-filter\x27)\x20&&\x20document.getElementById(\x27region-filter\x27).style.display\x20!==\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果地区筛选器可见，使用筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToAppend\x20=\x20displayedResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20否则使用全部测试结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToAppend\x20=\x20testResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipsToAppend.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27没有可追加的IP结果\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20appendBtn.textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20禁用所有按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20disableAllButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.textContent\x20=\x20\x27追加中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只追加前16个最优IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveCount\x20=\x20Math.min(ipsToAppend.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ips\x20=\x20ipsToAppend.slice(0,\x20saveCount).map(result\x20=>\x20result.display);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27?action=append\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20ips\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.success)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.message\x20+\x20\x27（已追加前\x27\x20+\x20saveCount\x20+\x20\x27个最优IP）\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.error\x20||\x20\x27追加失败\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27追加失败:\x20\x27\x20+\x20error.message,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.textContent\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20enableButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20goEdit()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl\x20+\x20\x27/edit\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBack()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20testIP(ip,\x20port)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeout\x20=\x205000;\x20//\x20增加超时时间到5秒\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20解析IP格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parsedIP\x20=\x20parseIPFormat(ip,\x20port);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!parsedIP)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20进行测试，最多重试3次\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastError\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20attempt\x20=\x201;\x20attempt\x20<=\x203;\x20attempt++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20singleTest(parsedIP.host,\x20parsedIP.port,\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`IP\x20${parsedIP.host}:${parsedIP.port}\x20第${attempt}次测试成功:\x20${result.latency}ms,\x20colo:\x20${result.colo},\x20类型:\x20${result.type}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20根据colo字段获取国家代码\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20locationCode\x20=\x20cloudflareLocations[result.colo]\x20?\x20cloudflareLocations[result.colo].cca2\x20:\x20result.colo;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20生成显示格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20typeText\x20=\x20result.type\x20===\x20\x27official\x27\x20?\x20\x27官方优选\x27\x20:\x20\x27反代优选\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20display\x20=\x20`${parsedIP.host}:${parsedIP.port}#${locationCode}\x20${typeText}\x20${result.latency}ms`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip:\x20parsedIP.host,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20parsedIP.port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20latency:\x20result.latency,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colo:\x20result.colo,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20type:\x20result.type,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20locationCode:\x20locationCode,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment:\x20`${locationCode}\x20${typeText}`,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20display\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`IP\x20${parsedIP.host}:${parsedIP.port}\x20第${attempt}次测试失败`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(attempt\x20<\x203)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20短暂延迟后重试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20new\x20Promise(resolve\x20=>\x20setTimeout(resolve,\x20200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x20//\x20所有尝试都失败\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：解析IP格式的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20parseIPFormat(ipString,\x20defaultPort)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20host,\x20port,\x20comment;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先处理注释部分（#之后的内容）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20mainPart\x20=\x20ipString;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipString.includes(\x27#\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ipString.split(\x27#\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mainPart\x20=\x20parts[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment\x20=\x20parts[1];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20处理端口部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(mainPart.includes(\x27:\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20mainPart.split(\x27:\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host\x20=\x20parts[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port\x20=\x20parseInt(parts[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host\x20=\x20mainPart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port\x20=\x20parseInt(defaultPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20验证IP格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!host\x20||\x20!port\x20||\x20isNaN(port))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host:\x20host.trim(),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment:\x20comment\x20?\x20comment.trim()\x20:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27解析IP格式失败:\x27,\x20ipString,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20singleTest(ip,\x20port,\x20timeout)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先进行预请求以缓存DNS解析结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20controller\x20=\x20new\x20AbortController();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeoutId\x20=\x20setTimeout(()\x20=>\x20controller.abort(),\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ip.split(\x27.\x27).map(part\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hex\x20=\x20parseInt(part,\x2010).toString(16);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20hex.length\x20===\x201\x20?\x20\x270\x27\x20+\x20hex\x20:\x20hex;\x20//\x20补零\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nip\x20=\x20parts.join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20预请求，不计入延迟时间\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetch(\x27https://\x27\x20+\x20nip\x20+\x20\x27.','?b64\x27,\x27qrcode_1\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','\x0a<tg-spoiler>城市:\x20','/bestip\x27>在线优选IP</a>]','\x27,\x27qrcode_v2ray\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>','未找到IPv4地址','11ghDUtl','set','floor','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FKID:\x20',',\x20总计:\x20','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','includes','\x20-\x20名称:\x20','CF_APITOKEN','as35916','http','❌\x20未找到匹配的账户，使用默认第\x200\x20个账户','统计结果\x20-\x20Pages:\x20','%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20','has','\x0aIP:\x20','2095','upload=','*ttvnw.net','5ALVbZS','匹配到','个IP','requests','&list=false&tfo=false&scv=','\x20到\x20'];_0x1cf3=function(){return _0x3f367d;};return _0x1cf3();}let enableSocks=![];let enableHttp=![];let noTLS=_0x5a1b34(0x27b);const expire=0xf4849500;let proxyIPs;let socks5s;let go2Socks5s=[_0x5a1b34(0x140),_0x5a1b34(0x88),_0x5a1b34(0x120),_0x5a1b34(0x21d)];let addresses=[];let addressesapi=[];let addressesnotls=[];let addressesnotlsapi=[];let addressescsv=[];let DLS=0x8;let remarkIndex=0x1;let FileName=atob(_0x5a1b34(0x26e));let BotToken;let ChatID;let proxyhosts=[];let proxyhostsURL=atob(_0x5a1b34(0x22b));let RproxyIP='false';const httpPorts=[_0x5a1b34(0x111),'8880',_0x5a1b34(0x1f2),_0x5a1b34(0x277),_0x5a1b34(0x167),_0x5a1b34(0x13e)];let httpsPorts=['2053','2083','2087','2096',_0x5a1b34(0x1c1)];let 有效时间=0x7;let 更新时间=0x3;let userIDLow;let userIDTime='';let proxyIPPool=[];let path='/?ed=2560';let 动态UUID=userID;let link=[];let banHosts=[atob(_0x5a1b34(0x8c))];let SCV=_0x5a1b34(0x1de);let allowInsecure=_0x5a1b34(0x222);export default{async 'fetch'(_0x41d931,_0x3af938,_0x5e5ffd){const _0x18aab0=_0x5a1b34;try{const _0x2b2713=_0x41d931['headers'][_0x18aab0(0x1ac)](_0x18aab0(0xdd))||_0x18aab0(0x1a4);const _0x3d09ab=_0x2b2713[_0x18aab0(0x98)]();userID=_0x3af938[_0x18aab0(0x126)]||_0x3af938[_0x18aab0(0x1a5)]||_0x3af938[_0x18aab0(0x250)]||_0x3af938[_0x18aab0(0x239)]||userID;if(_0x3af938[_0x18aab0(0x28a)]||_0x3af938['TOKEN']||userID&&!isValidUUID(userID)){动态UUID=_0x3af938[_0x18aab0(0x28a)]||_0x3af938[_0x18aab0(0x15a)]||userID;有效时间=Number(_0x3af938[_0x18aab0(0x176)])||有效时间;更新时间=Number(_0x3af938['UPTIME'])||更新时间;const _0x3b9bc4=await 生成动态UUID(动态UUID);userID=_0x3b9bc4[0x0];userIDLow=_0x3b9bc4[0x1];}else 动态UUID=userID;if(!userID){return new Response(_0x18aab0(0x234),{'status':0x194,'headers':{'Content-Type':_0x18aab0(0xd3)}});}const _0x284529=new Date();_0x284529[_0x18aab0(0xea)](0x0,0x0,0x0,0x0);const _0x5de2df=Math[_0x18aab0(0x245)](_0x284529[_0x18aab0(0x1e1)]()/0x3e8);const _0x4921bf=await 双重哈希(''+userID+_0x5de2df);const _0x5d8aad=[_0x4921bf[_0x18aab0(0x1bd)](0x0,0x8),_0x4921bf[_0x18aab0(0x1bd)](0x8,0xc),_0x4921bf[_0x18aab0(0x1bd)](0xc,0x10),_0x4921bf['slice'](0x10,0x14),_0x4921bf[_0x18aab0(0x1bd)](0x14)][_0x18aab0(0x198)]('-');const _0xbc36a3=_0x4921bf[_0x18aab0(0x1bd)](0x6,0x9)+'.'+_0x4921bf['slice'](0xd,0x13);proxyIP=_0x3af938[_0x18aab0(0x216)]||_0x3af938[_0x18aab0(0x207)]||proxyIP;proxyIPs=await 整理(proxyIP);proxyIP=proxyIPs[Math[_0x18aab0(0x130)](Math[_0x18aab0(0x24b)]()*proxyIPs[_0x18aab0(0x1a2)])];DNS64Server=_0x3af938[_0x18aab0(0xe8)]||_0x3af938['NAT64']||DNS64Server;socks5Address=_0x3af938['HTTP']||_0x3af938[_0x18aab0(0x213)]||socks5Address;socks5s=await 整理(socks5Address);socks5Address=socks5s[Math[_0x18aab0(0x130)](Math[_0x18aab0(0x24b)]()*socks5s[_0x18aab0(0x1a2)])];enableHttp=_0x3af938[_0x18aab0(0xe4)]?!![]:socks5Address[_0x18aab0(0x98)]()['includes'](_0x18aab0(0x25c));socks5Address=socks5Address[_0x18aab0(0x85)]('//')[0x1]||socks5Address;if(_0x3af938[_0x18aab0(0x153)])go2Socks5s=await 整理(_0x3af938[_0x18aab0(0x153)]);if(_0x3af938[_0x18aab0(0x21f)])httpsPorts=await 整理(_0x3af938[_0x18aab0(0x21f)]);if(_0x3af938[_0x18aab0(0x8e)])banHosts=await 整理(_0x3af938[_0x18aab0(0x8e)]);if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);RproxyIP=_0x3af938[_0x18aab0(0x248)]||_0x18aab0(0x27b);enableSocks=!![];}catch(_0x26f79e){let _0x20a28e=_0x26f79e;console[_0x18aab0(0x10d)](_0x20a28e[_0x18aab0(0xb4)]());RproxyIP=_0x3af938['RPROXYIP']||!proxyIP?_0x18aab0(0x1de):_0x18aab0(0x27b);enableSocks=![];}}else{RproxyIP=_0x3af938['RPROXYIP']||!proxyIP?_0x18aab0(0x1de):_0x18aab0(0x27b);}const _0x5edc62=_0x41d931[_0x18aab0(0x23f)][_0x18aab0(0x1ac)](_0x18aab0(0x197));const _0x4a364c=new URL(_0x41d931[_0x18aab0(0x1a6)]);if(!_0x5edc62||_0x5edc62!=='websocket'){if(_0x3af938['ADD'])addresses=await 整理(_0x3af938[_0x18aab0(0x25d)]);if(_0x3af938['ADDAPI'])addressesapi=await 整理(_0x3af938[_0x18aab0(0x1fc)]);if(_0x3af938[_0x18aab0(0x108)])addressesnotls=await 整理(_0x3af938[_0x18aab0(0x108)]);if(_0x3af938[_0x18aab0(0x17f)])addressesnotlsapi=await 整理(_0x3af938[_0x18aab0(0x17f)]);if(_0x3af938[_0x18aab0(0x17a)])addressescsv=await 整理(_0x3af938['ADDCSV']);DLS=Number(_0x3af938['DLS'])||DLS;remarkIndex=Number(_0x3af938[_0x18aab0(0x1f5)])||remarkIndex;BotToken=_0x3af938[_0x18aab0(0x200)]||BotToken;ChatID=_0x3af938[_0x18aab0(0x184)]||ChatID;FileName=_0x3af938['SUBNAME']||FileName;subEmoji=_0x3af938[_0x18aab0(0x101)]||_0x3af938[_0x18aab0(0x1db)]||subEmoji;if(subEmoji=='0')subEmoji=_0x18aab0(0x27b);if(_0x3af938[_0x18aab0(0x286)])link=await 整理(_0x3af938['LINK']);let _0xf5a748=_0x3af938[_0x18aab0(0x1c4)]||'';subConverter=_0x3af938[_0x18aab0(0x266)]||subConverter;if(subConverter[_0x18aab0(0x134)](_0x18aab0(0x25c))){subConverter=subConverter[_0x18aab0(0x85)]('//')[0x1];subProtocol=_0x18aab0(0x138);}else{subConverter=subConverter[_0x18aab0(0x85)]('//')[0x1]||subConverter;}subConfig=_0x3af938['SUBCONFIG']||subConfig;if(_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x13c)](_0x18aab0(0x125))&&_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x1ac)](_0x18aab0(0x125))!=='')_0xf5a748=_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x1ac)](_0x18aab0(0x125))[_0x18aab0(0x98)]();if(_0x4a364c['searchParams']['has'](_0x18aab0(0x103)))noTLS=_0x18aab0(0x1de);if(_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x13c)](_0x18aab0(0x207))){path=_0x18aab0(0x14e)+_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x1ac)]('proxyip');RproxyIP=_0x18aab0(0x27b);}else if(_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x13c)](_0x18aab0(0x11c))){path=_0x18aab0(0x124)+_0x4a364c[_0x18aab0(0x1a0)]['get']('socks5');RproxyIP='false';}else if(_0x4a364c['searchParams'][_0x18aab0(0x13c)](_0x18aab0(0x173))){path=_0x18aab0(0x124)+_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x1ac)]('socks');RproxyIP='false';}SCV=_0x3af938['SCV']||SCV;if(!SCV||SCV=='0'||SCV==_0x18aab0(0x27b))allowInsecure='';else SCV=_0x18aab0(0x1de);const _0x4132e9=_0x4a364c[_0x18aab0(0x165)][_0x18aab0(0x98)]();if(_0x4132e9=='/'){if(_0x3af938[_0x18aab0(0x263)])return Response['redirect'](_0x3af938['URL302'],0x12e);else if(_0x3af938[_0x18aab0(0xd2)])return await 代理URL(_0x3af938[_0x18aab0(0xd2)],_0x4a364c);else return new Response(await nginx(),{'status':0xc8,'headers':{'Content-Type':_0x18aab0(0x236)}});}else if(_0x4132e9=='/'+_0x5d8aad){const _0x48017f=await 生成配置信息(userID,_0x41d931[_0x18aab0(0x23f)][_0x18aab0(0x1ac)](_0x18aab0(0x19c)),_0xf5a748,_0x18aab0(0x237),RproxyIP,_0x4a364c,_0x5d8aad,_0xbc36a3,_0x3af938);return new Response(''+_0x48017f,{'status':0xc8});}else if(_0x4a364c[_0x18aab0(0x165)]=='/'+动态UUID+'/edit'||_0x4132e9=='/'+userID+'/edit'){return await KV(_0x41d931,_0x3af938);}else if(_0x4a364c[_0x18aab0(0x165)]=='/'+动态UUID+_0x18aab0(0x242)||_0x4132e9=='/'+userID+_0x18aab0(0x242)){return await bestIP(_0x41d931,_0x3af938);}else if(_0x4a364c['pathname']=='/'+动态UUID||_0x4132e9=='/'+userID){await sendMessage('#获取订阅\x20'+FileName,_0x41d931[_0x18aab0(0x23f)][_0x18aab0(0x1ac)](_0x18aab0(0x83)),_0x18aab0(0x157)+_0x2b2713+_0x18aab0(0x254)+_0x4a364c['hostname']+_0x18aab0(0x1e8)+(_0x4a364c[_0x18aab0(0x165)]+_0x4a364c[_0x18aab0(0x1ed)])+'</tg-spoiler>');const _0x37ff3c=await 生成配置信息(userID,_0x41d931[_0x18aab0(0x23f)][_0x18aab0(0x1ac)]('Host'),_0xf5a748,_0x2b2713,RproxyIP,_0x4a364c,_0x5d8aad,_0xbc36a3,_0x3af938);const _0x2c1b2e=Date[_0x18aab0(0x253)]();const _0x1e2923=new Date(_0x2c1b2e);_0x1e2923[_0x18aab0(0xea)](0x0,0x0,0x0,0x0);const _0x1c689c=Math[_0x18aab0(0x130)]((_0x2c1b2e-_0x1e2923['getTime']())/0x5265c00*0x18*0x10000000000/0x2);let _0x34c9b9=_0x1c689c;let _0x206320=_0x1c689c;let _0x199a31=0x18*0x10000000000;if(_0x3af938[_0x18aab0(0x1d9)]&&_0x3af938[_0x18aab0(0x1cf)]||_0x3af938[_0x18aab0(0x118)]&&_0x3af938[_0x18aab0(0x136)]){const _0x169384=await getUsage(_0x3af938['CF_ID'],_0x3af938[_0x18aab0(0x1d9)],_0x3af938[_0x18aab0(0x1cf)],_0x3af938[_0x18aab0(0x136)],_0x3af938[_0x18aab0(0x24f)]);_0x34c9b9=_0x169384[0x1];_0x206320=_0x169384[0x2];_0x199a31=_0x3af938[_0x18aab0(0x24f)]?Number(_0x3af938['CF_ALL']):0x400*0x64;}if(_0x3d09ab&&_0x3d09ab[_0x18aab0(0x134)](_0x18aab0(0x1e9))){return new Response(_0x37ff3c,{'status':0xc8,'headers':{'Content-Type':'text/html;charset=utf-8','Profile-Update-Interval':'6','Subscription-Userinfo':'upload='+_0x34c9b9+_0x18aab0(0x18a)+_0x206320+_0x18aab0(0x20d)+_0x199a31+_0x18aab0(0x81)+expire,'Cache-Control':_0x18aab0(0x1b5)}});}else{return new Response(_0x37ff3c,{'status':0xc8,'headers':{'Content-Disposition':_0x18aab0(0x1cb)+FileName+_0x18aab0(0x189)+encodeURIComponent(FileName),'Profile-Update-Interval':'6','Profile-web-page-url':_0x41d931[_0x18aab0(0x1a6)]['includes']('?')?_0x41d931[_0x18aab0(0x1a6)][_0x18aab0(0x85)]('?')[0x0]:_0x41d931[_0x18aab0(0x1a6)],'Subscription-Userinfo':_0x18aab0(0x13f)+_0x34c9b9+_0x18aab0(0x18a)+_0x206320+_0x18aab0(0x20d)+_0x199a31+_0x18aab0(0x81)+expire}});}}else{if(_0x3af938[_0x18aab0(0x263)])return Response[_0x18aab0(0x151)](_0x3af938[_0x18aab0(0x263)],0x12e);else if(_0x3af938[_0x18aab0(0xd2)])return await 代理URL(_0x3af938[_0x18aab0(0xd2)],_0x4a364c);else return new Response('不用怀疑！你UUID就是错的！！！',{'status':0x194});}}else{socks5Address=_0x4a364c[_0x18aab0(0x1a0)][_0x18aab0(0x1ac)](_0x18aab0(0x11c))||socks5Address;if(new RegExp(_0x18aab0(0xd4),'i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)]))socks5Address=_0x4a364c['pathname']['split']('5=')[0x1];else if(new RegExp(_0x18aab0(0x7e),'i')['test'](_0x4a364c[_0x18aab0(0x165)])||new RegExp(_0x18aab0(0xb0),'i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)])||new RegExp(_0x18aab0(0x99),'i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)])){enableHttp=_0x4a364c[_0x18aab0(0x165)][_0x18aab0(0x134)]('http://');socks5Address=_0x4a364c[_0x18aab0(0x165)][_0x18aab0(0x85)](_0x18aab0(0x100))[0x1][_0x18aab0(0x85)]('#')[0x0];if(socks5Address[_0x18aab0(0x134)]('@')){const _0x4c73f0=socks5Address[_0x18aab0(0x102)]('@');let _0xf0e6b4=socks5Address[_0x18aab0(0x94)](0x0,_0x4c73f0)[_0x18aab0(0x7c)](_0x18aab0(0x20e),'=');const _0xf5ddcc=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0xf5ddcc[_0x18aab0(0x22f)](_0xf0e6b4)&&!_0xf0e6b4[_0x18aab0(0x134)](':'))_0xf0e6b4=atob(_0xf0e6b4);socks5Address=_0xf0e6b4+'@'+socks5Address['substring'](_0x4c73f0+0x1);}go2Socks5s=[_0x18aab0(0xaa)];}if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);enableSocks=!![];}catch(_0x4df594){let _0x8feb55=_0x4df594;console[_0x18aab0(0x10d)](_0x8feb55[_0x18aab0(0xb4)]());enableSocks=![];}}else{enableSocks=![];}if(_0x4a364c[_0x18aab0(0x1a0)]['has']('proxyip')){proxyIP=_0x4a364c[_0x18aab0(0x1a0)]['get'](_0x18aab0(0x207));enableSocks=![];}else if(new RegExp('/proxyip=','i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)])){proxyIP=_0x4a364c[_0x18aab0(0x165)]['toLowerCase']()[_0x18aab0(0x85)]('/proxyip=')[0x1];enableSocks=![];}else if(new RegExp('/proxyip.','i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)])){proxyIP=_0x18aab0(0x1e6)+_0x4a364c['pathname'][_0x18aab0(0x98)]()['split'](_0x18aab0(0xa5))[0x1];enableSocks=![];}else if(new RegExp(_0x18aab0(0x121),'i')[_0x18aab0(0x22f)](_0x4a364c[_0x18aab0(0x165)])){proxyIP=_0x4a364c[_0x18aab0(0x165)]['toLowerCase']()['split'](_0x18aab0(0x121))[0x1];enableSocks=![];}return await 维列斯OverWSHandler(_0x41d931);}}catch(_0x100338){let _0x24f591=_0x100338;return new Response(_0x24f591['toString']());}}};async function 维列斯OverWSHandler(_0x5ca452){const _0x42be6a=_0x5a1b34;const _0xcb0feb=new WebSocketPair();const [_0x4a5722,_0x473e2f]=Object[_0x42be6a(0x109)](_0xcb0feb);_0x473e2f[_0x42be6a(0x15b)]();let _0xcedd6c='';let _0x6c4341='';const _0x9bb978=(_0x2d6c76,_0x55fd6f)=>{const _0x4ce2a7=_0x42be6a;console[_0x4ce2a7(0x10d)]('['+_0xcedd6c+':'+_0x6c4341+']\x20'+_0x2d6c76,_0x55fd6f||'');};const _0x196e4b=_0x5ca452[_0x42be6a(0x23f)]['get'](_0x42be6a(0x105))||'';const _0x126e16=makeReadableWebSocketStream(_0x473e2f,_0x196e4b,_0x9bb978);let _0x3bdffe={'value':null};let _0x44057c=null;let _0x36ae86=![];_0x126e16[_0x42be6a(0x17c)](new WritableStream({async 'write'(_0x5882d8,_0x34303d){const _0x3d0aae=_0x42be6a;if(_0x36ae86&&_0x44057c){return _0x44057c(_0x5882d8);}if(_0x3bdffe[_0x3d0aae(0x214)]){const _0x2e9d77=_0x3bdffe[_0x3d0aae(0x214)][_0x3d0aae(0x9c)][_0x3d0aae(0x18e)]();await _0x2e9d77['write'](_0x5882d8);_0x2e9d77[_0x3d0aae(0x1fd)]();return;}const {hasError:_0x98a137,message:_0x76e937,addressType:_0x7b6979,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x8efe5e,维列斯Version:维列斯Version=new Uint8Array([0x0,0x0]),isUDP:_0x215cd2}=process维列斯Header(_0x5882d8,userID);_0xcedd6c=addressRemote;_0x6c4341=portRemote+'--'+Math[_0x3d0aae(0x24b)]()+'\x20'+(_0x215cd2?_0x3d0aae(0x1d7):_0x3d0aae(0x14f))+'\x20';if(_0x98a137){throw new Error(_0x76e937);return;}if(_0x215cd2){if(portRemote===0x35){_0x36ae86=!![];}else{throw new Error('UDP\x20代理仅对\x20DNS（53\x20端口）启用');return;}}const _0xb8db1a=new Uint8Array([维列斯Version[0x0],0x0]);const _0x46ec25=_0x5882d8[_0x3d0aae(0x1bd)](_0x8efe5e);if(_0x36ae86){const {write:_0x1a0e47}=await handleUDPOutBound(_0x473e2f,_0xb8db1a,_0x9bb978);_0x44057c=_0x1a0e47;_0x44057c(_0x46ec25);return;}if(!banHosts[_0x3d0aae(0x134)](addressRemote)){_0x9bb978(_0x3d0aae(0x1b6)+addressRemote+':'+portRemote);handleTCPOutBound(_0x3bdffe,_0x7b6979,addressRemote,portRemote,_0x46ec25,_0x473e2f,_0xb8db1a,_0x9bb978);}else{throw new Error('黑名单关闭\x20TCP\x20出站连接\x20'+addressRemote+':'+portRemote);}},'close'(){const _0xaaa0a5=_0x42be6a;_0x9bb978(_0xaaa0a5(0x1ca));},'abort'(_0x3cd83b){const _0x59d0dc=_0x42be6a;_0x9bb978(_0x59d0dc(0x19a),JSON[_0x59d0dc(0x1f4)](_0x3cd83b));}}))[_0x42be6a(0x115)](_0x4785d0=>{const _0x3c33c8=_0x42be6a;_0x9bb978(_0x3c33c8(0xf9),_0x4785d0);});return new Response(null,{'status':0x65,'webSocket':_0x4a5722});}async function handleTCPOutBound(_0x39b68b,_0x5a9264,_0x1c9b63,_0x4e9100,_0x287116,_0x28989e,_0x47f70b,_0x45f3bb){async function _0x4b0c2d(_0x2ab101){const _0x4be1b0=_0x3ac9;if(go2Socks5s[_0x4be1b0(0x134)](atob(_0x4be1b0(0x10b)))||go2Socks5s[_0x4be1b0(0x134)](atob(_0x4be1b0(0x195))))return!![];return go2Socks5s[_0x4be1b0(0x1b8)](_0x2f171e=>{const _0x192e99=_0x4be1b0;let _0x5544be=_0x2f171e[_0x192e99(0x147)](/\*/g,'.*');let _0x3181dc=new RegExp('^'+_0x5544be+'$','i');return _0x3181dc['test'](_0x2ab101);});}async function _0x482c7b(_0x9d1398,_0x43fbcd,_0x492ed1=![],_0x1877a3=![]){const _0x101311=_0x3ac9;_0x45f3bb(_0x101311(0x281)+_0x9d1398+':'+_0x43fbcd);const _0x3f428f=_0x492ed1?_0x1877a3?await httpConnect(_0x9d1398,_0x43fbcd,_0x45f3bb):await socks5Connect(_0x5a9264,_0x9d1398,_0x43fbcd,_0x45f3bb):connect({'hostname':_0x9d1398,'port':_0x43fbcd});_0x39b68b['value']=_0x3f428f;const _0x407352=_0x3f428f['writable'][_0x101311(0x18e)]();await _0x407352[_0x101311(0x169)](_0x287116);_0x407352[_0x101311(0x1fd)]();return _0x3f428f;}async function _0x563312(){const _0x261220=_0x3ac9;if(!_0x236131){const _0x54c958='['+await resolveToIPv6(_0x1c9b63)+']';_0x45f3bb('NAT64\x20代理连接到\x20'+_0x54c958+_0x261220(0x1d6));_0x4295f4=await _0x482c7b(_0x54c958,0x1bb);}_0x4295f4[_0x261220(0x1b0)]['catch'](_0x11602c=>{const _0x597fe4=_0x261220;console[_0x597fe4(0x10d)](_0x597fe4(0x183),_0x11602c);})[_0x261220(0x1d3)](()=>{safeCloseWebSocket(_0x28989e);});remoteSocketToWS(_0x4295f4,_0x28989e,_0x47f70b,null,_0x45f3bb);}async function _0x4e0ff6(){const _0x5c0d26=_0x3ac9;if(enableSocks){_0x4295f4=await _0x482c7b(_0x1c9b63,_0x4e9100,!![],enableHttp);}else{if(!proxyIP||proxyIP==''){proxyIP=atob(_0x5c0d26(0x24a));}else if(proxyIP[_0x5c0d26(0x134)](']:')){_0x4e9100=proxyIP[_0x5c0d26(0x85)](']:')[0x1]||_0x4e9100;proxyIP=proxyIP['split'](']:')[0x0]+']'||proxyIP;}else if(proxyIP['split'](':')[_0x5c0d26(0x1a2)]===0x2){_0x4e9100=proxyIP[_0x5c0d26(0x85)](':')[0x1]||_0x4e9100;proxyIP=proxyIP[_0x5c0d26(0x85)](':')[0x0]||proxyIP;}if(proxyIP['includes'](_0x5c0d26(0x24c)))_0x4e9100=proxyIP[_0x5c0d26(0x85)](_0x5c0d26(0x24c))[0x1][_0x5c0d26(0x85)]('.')[0x0]||_0x4e9100;_0x4295f4=await _0x482c7b(proxyIP[_0x5c0d26(0x98)]()||_0x1c9b63,_0x4e9100);}remoteSocketToWS(_0x4295f4,_0x28989e,_0x47f70b,_0x563312,_0x45f3bb);}let _0x236131=![];if(go2Socks5s['length']>0x0&&enableSocks)_0x236131=await _0x4b0c2d(_0x1c9b63);let _0x4295f4=await _0x482c7b(_0x1c9b63,_0x4e9100,_0x236131,enableHttp);remoteSocketToWS(_0x4295f4,_0x28989e,_0x47f70b,_0x4e0ff6,_0x45f3bb);}function makeReadableWebSocketStream(_0x309d00,_0x5823aa,_0xf59375){let _0xc6c07f=![];const _0x4b4fe5=new ReadableStream({'start'(_0x47e890){const _0xcd09f4=_0x3ac9;_0x309d00[_0xcd09f4(0x23d)](_0xcd09f4(0xe0),_0xd37f78=>{const _0xeea61c=_0xcd09f4;if(_0xc6c07f){return;}const _0x134ca5=_0xd37f78[_0xeea61c(0xeb)];_0x47e890[_0xeea61c(0x1a3)](_0x134ca5);});_0x309d00[_0xcd09f4(0x23d)](_0xcd09f4(0xdf),()=>{const _0x5b14d6=_0xcd09f4;safeCloseWebSocket(_0x309d00);if(_0xc6c07f){return;}_0x47e890[_0x5b14d6(0xdf)]();});_0x309d00[_0xcd09f4(0x23d)](_0xcd09f4(0x18f),_0x4f8c20=>{const _0x6ea77f=_0xcd09f4;_0xf59375(_0x6ea77f(0x148));_0x47e890[_0x6ea77f(0x18f)](_0x4f8c20);});const {earlyData:_0x4b56f0,error:_0x20db68}=base64ToArrayBuffer(_0x5823aa);if(_0x20db68){_0x47e890[_0xcd09f4(0x18f)](_0x20db68);}else if(_0x4b56f0){_0x47e890[_0xcd09f4(0x1a3)](_0x4b56f0);}},'pull'(_0x1f8fd5){},'cancel'(_0x51326f){const _0x1cb8a9=_0x3ac9;if(_0xc6c07f){return;}_0xf59375(_0x1cb8a9(0x19d)+_0x51326f);_0xc6c07f=!![];safeCloseWebSocket(_0x309d00);}});return _0x4b4fe5;}function process维列斯Header(_0x3a9370,_0x57a877){const _0x7be061=_0x5a1b34;if(_0x3a9370['byteLength']<0x18){return{'hasError':!![],'message':_0x7be061(0xd5)};}const _0x3646f2=new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](0x0,0x1));let _0x178d58=![];let _0x53fb40=![];function _0x1b7d22(_0xdf254a,_0x43eceb,_0x380107){const _0x31aeec=_0x7be061;const _0x2302bb=new Uint8Array(_0x380107[_0x31aeec(0x1bd)](0x1,0x11));const _0x526db3=stringify(_0x2302bb);return _0x526db3===_0xdf254a||_0x526db3===_0x43eceb;}_0x178d58=_0x1b7d22(_0x57a877,userIDLow,_0x3a9370);if(!_0x178d58){return{'hasError':!![],'message':_0x7be061(0x244)+new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](0x1,0x11))};}const _0x322a17=new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](0x11,0x12))[0x0];const _0x23edb6=new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](0x12+_0x322a17,0x12+_0x322a17+0x1))[0x0];if(_0x23edb6===0x1){}else if(_0x23edb6===0x2){_0x53fb40=!![];}else{return{'hasError':!![],'message':_0x7be061(0x227)+_0x23edb6+'\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux'};}const _0x3fbd61=0x12+_0x322a17+0x1;const _0x2f67b6=_0x3a9370[_0x7be061(0x1bd)](_0x3fbd61,_0x3fbd61+0x2);const _0x4c9764=new DataView(_0x2f67b6)[_0x7be061(0x1a7)](0x0);let _0x439e20=_0x3fbd61+0x2;const _0x2c2aac=new Uint8Array(_0x3a9370['slice'](_0x439e20,_0x439e20+0x1));const _0x4918ac=_0x2c2aac[0x0];let _0x2646b2=0x0;let _0x35b4e7=_0x439e20+0x1;let _0xcb7bab='';switch(_0x4918ac){case 0x1:_0x2646b2=0x4;_0xcb7bab=new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](_0x35b4e7,_0x35b4e7+_0x2646b2))[_0x7be061(0x198)]('.');break;case 0x2:_0x2646b2=new Uint8Array(_0x3a9370[_0x7be061(0x1bd)](_0x35b4e7,_0x35b4e7+0x1))[0x0];_0x35b4e7+=0x1;_0xcb7bab=new TextDecoder()[_0x7be061(0x205)](_0x3a9370[_0x7be061(0x1bd)](_0x35b4e7,_0x35b4e7+_0x2646b2));break;case 0x3:_0x2646b2=0x10;const _0x5c083c=new DataView(_0x3a9370[_0x7be061(0x1bd)](_0x35b4e7,_0x35b4e7+_0x2646b2));const _0x29f657=[];for(let _0x543a6e=0x0;_0x543a6e<0x8;_0x543a6e++){_0x29f657[_0x7be061(0x211)](_0x5c083c[_0x7be061(0x1a7)](_0x543a6e*0x2)[_0x7be061(0xb4)](0x10));}_0xcb7bab=_0x29f657[_0x7be061(0x198)](':');break;default:return{'hasError':!![],'message':_0x7be061(0x1d1)+_0x4918ac};}if(!_0xcb7bab){return{'hasError':!![],'message':_0x7be061(0xc0)+_0x4918ac};}return{'hasError':![],'addressRemote':_0xcb7bab,'addressType':_0x4918ac,'portRemote':_0x4c9764,'rawDataIndex':_0x35b4e7+_0x2646b2,'维列斯Version':_0x3646f2,'isUDP':_0x53fb40};}async function remoteSocketToWS(_0x348da0,_0x3c7609,_0x15f53d,_0x343a50,_0x56ee83){const _0xb2bde=_0x5a1b34;let _0x49d490=0x0;let _0x43c0d8=[];let _0x4ba5ab=_0x15f53d;let _0x4c21a8=![];await _0x348da0[_0xb2bde(0x219)][_0xb2bde(0x17c)](new WritableStream({'start'(){},async 'write'(_0x52c1e5,_0x55f29b){const _0xff170b=_0xb2bde;_0x4c21a8=!![];if(_0x3c7609['readyState']!==WS_READY_STATE_OPEN){_0x55f29b['error'](_0xff170b(0x17b));}if(_0x4ba5ab){_0x3c7609[_0xff170b(0xfa)](await new Blob([_0x4ba5ab,_0x52c1e5])[_0xff170b(0x1b4)]());_0x4ba5ab=null;}else{_0x3c7609['send'](_0x52c1e5);}},'close'(){_0x56ee83('remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20'+_0x4c21a8);},'abort'(_0x34faad){const _0x2c49a0=_0xb2bde;console[_0x2c49a0(0x18f)](_0x2c49a0(0x220),_0x34faad);}}))['catch'](_0x58ca68=>{const _0x4b862c=_0xb2bde;console[_0x4b862c(0x18f)](_0x4b862c(0x1b3),_0x58ca68['stack']||_0x58ca68);safeCloseWebSocket(_0x3c7609);});if(_0x4c21a8===![]&&_0x343a50){_0x56ee83('retry');_0x343a50();}}function base64ToArrayBuffer(_0x922bd9){const _0x25702d=_0x5a1b34;if(!_0x922bd9){return{'earlyData':undefined,'error':null};}try{_0x922bd9=_0x922bd9[_0x25702d(0x147)](/-/g,'+')[_0x25702d(0x147)](/_/g,'/');const _0x32824b=atob(_0x922bd9);const _0x1d6561=Uint8Array[_0x25702d(0x224)](_0x32824b,_0x2c5286=>_0x2c5286[_0x25702d(0x238)](0x0));return{'earlyData':_0x1d6561[_0x25702d(0x123)],'error':null};}catch(_0x434ee9){return{'earlyData':undefined,'error':_0x434ee9};}}function isValidUUID(_0x5b531e){const _0x17577b=_0x5a1b34;const _0x169be5=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x169be5[_0x17577b(0x22f)](_0x5b531e);}const WS_READY_STATE_OPEN=0x1;const WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x3543e7){const _0x141015=_0x5a1b34;try{if(_0x3543e7[_0x141015(0x282)]===WS_READY_STATE_OPEN||_0x3543e7['readyState']===WS_READY_STATE_CLOSING){_0x3543e7[_0x141015(0xdf)]();}}catch(_0x4e8e48){console['error'](_0x141015(0x1be),_0x4e8e48);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x5a1b34(0x211)]((i+0x100)['toString'](0x10)[_0x5a1b34(0x1bd)](0x1));}function unsafeStringify(_0xd7ec0d,_0x19187f=0x0){const _0x3113ca=_0x5a1b34;return(byteToHex[_0xd7ec0d[_0x19187f+0x0]]+byteToHex[_0xd7ec0d[_0x19187f+0x1]]+byteToHex[_0xd7ec0d[_0x19187f+0x2]]+byteToHex[_0xd7ec0d[_0x19187f+0x3]]+'-'+byteToHex[_0xd7ec0d[_0x19187f+0x4]]+byteToHex[_0xd7ec0d[_0x19187f+0x5]]+'-'+byteToHex[_0xd7ec0d[_0x19187f+0x6]]+byteToHex[_0xd7ec0d[_0x19187f+0x7]]+'-'+byteToHex[_0xd7ec0d[_0x19187f+0x8]]+byteToHex[_0xd7ec0d[_0x19187f+0x9]]+'-'+byteToHex[_0xd7ec0d[_0x19187f+0xa]]+byteToHex[_0xd7ec0d[_0x19187f+0xb]]+byteToHex[_0xd7ec0d[_0x19187f+0xc]]+byteToHex[_0xd7ec0d[_0x19187f+0xd]]+byteToHex[_0xd7ec0d[_0x19187f+0xe]]+byteToHex[_0xd7ec0d[_0x19187f+0xf]])[_0x3113ca(0x98)]();}function stringify(_0x1094d4,_0x517373=0x0){const _0x56b860=unsafeStringify(_0x1094d4,_0x517373);if(!isValidUUID(_0x56b860)){throw TypeError('生成的\x20UUID\x20不符合规范\x20'+_0x56b860);}return _0x56b860;}async function handleUDPOutBound(_0x16bf87,_0x5d1861,_0x4ea9bf){const _0x29a173=_0x5a1b34;let _0x1a9ba0=![];const _0x5c80a6=new TransformStream({'start'(_0x3b1299){},'transform'(_0x4342f4,_0x3351a0){const _0x5a55f9=_0x3ac9;for(let _0x5541ff=0x0;_0x5541ff<_0x4342f4[_0x5a55f9(0x156)];){const _0x2861b8=_0x4342f4[_0x5a55f9(0x1bd)](_0x5541ff,_0x5541ff+0x2);const _0x32e313=new DataView(_0x2861b8)[_0x5a55f9(0x1a7)](0x0);const _0x54f256=new Uint8Array(_0x4342f4[_0x5a55f9(0x1bd)](_0x5541ff+0x2,_0x5541ff+0x2+_0x32e313));_0x5541ff=_0x5541ff+0x2+_0x32e313;_0x3351a0[_0x5a55f9(0x1a3)](_0x54f256);}},'flush'(_0x2e63d8){}});_0x5c80a6[_0x29a173(0x219)]['pipeTo'](new WritableStream({async 'write'(_0x324e46){const _0x1226db=_0x29a173;const _0x2560b8=await fetch(_0x1226db(0x1cc),{'method':_0x1226db(0x11a),'headers':{'content-type':_0x1226db(0x182)},'body':_0x324e46});const _0x73ab19=await _0x2560b8[_0x1226db(0x1b4)]();const _0x5cabf5=_0x73ab19[_0x1226db(0x156)];const _0x339624=new Uint8Array([_0x5cabf5>>0x8&0xff,_0x5cabf5&0xff]);if(_0x16bf87[_0x1226db(0x282)]===WS_READY_STATE_OPEN){_0x4ea9bf(_0x1226db(0x1f3)+_0x5cabf5);if(_0x1a9ba0){_0x16bf87[_0x1226db(0xfa)](await new Blob([_0x339624,_0x73ab19])[_0x1226db(0x1b4)]());}else{_0x16bf87[_0x1226db(0xfa)](await new Blob([_0x5d1861,_0x339624,_0x73ab19])[_0x1226db(0x1b4)]());_0x1a9ba0=!![];}}}}))[_0x29a173(0x115)](_0x3962d7=>{const _0x205bf6=_0x29a173;_0x4ea9bf(_0x205bf6(0x1e7)+_0x3962d7);});const _0x23145a=_0x5c80a6[_0x29a173(0x9c)][_0x29a173(0x18e)]();return{'write'(_0x268837){const _0x3b7e12=_0x29a173;_0x23145a[_0x3b7e12(0x169)](_0x268837);}};}async function handleDNSQuery(_0x53a4e6,_0x170f6c,_0x546c96,_0x34be5c){const _0x58c60d=_0x5a1b34;try{const _0x13f70b=_0x58c60d(0xa4);const _0x1e4e26=0x35;let _0x597b50=_0x546c96;const _0x327c85=connect({'hostname':_0x13f70b,'port':_0x1e4e26});_0x34be5c('连接到\x20'+_0x13f70b+':'+_0x1e4e26);const _0x1147ea=_0x327c85[_0x58c60d(0x9c)][_0x58c60d(0x18e)]();await _0x1147ea[_0x58c60d(0x169)](_0x53a4e6);_0x1147ea[_0x58c60d(0x1fd)]();await _0x327c85[_0x58c60d(0x219)][_0x58c60d(0x17c)](new WritableStream({async 'write'(_0x557653){const _0x2a4b1f=_0x58c60d;if(_0x170f6c[_0x2a4b1f(0x282)]===WS_READY_STATE_OPEN){if(_0x597b50){_0x170f6c['send'](await new Blob([_0x597b50,_0x557653])[_0x2a4b1f(0x1b4)]());_0x597b50=null;}else{_0x170f6c[_0x2a4b1f(0xfa)](_0x557653);}}},'close'(){const _0x315b1b=_0x58c60d;_0x34be5c('DNS\x20服务器('+_0x13f70b+_0x315b1b(0x278));},'abort'(_0x75e5d9){const _0x26eb56=_0x58c60d;console['error'](_0x26eb56(0x26c)+_0x13f70b+_0x26eb56(0x15c),_0x75e5d9);}}));}catch(_0x4e0e74){console[_0x58c60d(0x18f)](_0x58c60d(0x270)+_0x4e0e74[_0x58c60d(0xe0)]);}}async function socks5Connect(_0x23714a,_0x1237ae,_0x5d6889,_0x957132){const _0x2e3cc3=_0x5a1b34;const {username:_0x29c2c1,password:_0x5148d2,hostname:_0x5dead1,port:_0x405c96}=parsedSocks5Address;const _0x443b3c=connect({'hostname':_0x5dead1,'port':_0x405c96});const _0x56ec2a=new Uint8Array([0x5,0x2,0x0,0x2]);const _0x5515a8=_0x443b3c['writable']['getWriter']();await _0x5515a8['write'](_0x56ec2a);_0x957132('已发送\x20SOCKS5\x20问候消息');const _0x557ee2=_0x443b3c['readable']['getReader']();const _0x530b9a=new TextEncoder();let _0x4cc944=(await _0x557ee2['read']())[_0x2e3cc3(0x214)];if(_0x4cc944[0x0]!==0x5){_0x957132(_0x2e3cc3(0x1f8)+_0x4cc944[0x0]+_0x2e3cc3(0xe6));return;}if(_0x4cc944[0x1]===0xff){_0x957132(_0x2e3cc3(0xf0));return;}if(_0x4cc944[0x1]===0x2){_0x957132(_0x2e3cc3(0x10e));if(!_0x29c2c1||!_0x5148d2){_0x957132(_0x2e3cc3(0x251));return;}const _0x2295c1=new Uint8Array([0x1,_0x29c2c1[_0x2e3cc3(0x1a2)],..._0x530b9a['encode'](_0x29c2c1),_0x5148d2[_0x2e3cc3(0x1a2)],..._0x530b9a[_0x2e3cc3(0x92)](_0x5148d2)]);await _0x5515a8[_0x2e3cc3(0x169)](_0x2295c1);_0x4cc944=(await _0x557ee2['read']())[_0x2e3cc3(0x214)];if(_0x4cc944[0x0]!==0x1||_0x4cc944[0x1]!==0x0){_0x957132(_0x2e3cc3(0x14d));return;}}let _0x2c33d2;switch(_0x23714a){case 0x1:_0x2c33d2=new Uint8Array([0x1,..._0x1237ae['split']('.')[_0x2e3cc3(0xf6)](Number)]);break;case 0x2:_0x2c33d2=new Uint8Array([0x3,_0x1237ae[_0x2e3cc3(0x1a2)],..._0x530b9a[_0x2e3cc3(0x92)](_0x1237ae)]);break;case 0x3:_0x2c33d2=new Uint8Array([0x4,..._0x1237ae[_0x2e3cc3(0x85)](':')[_0x2e3cc3(0x279)](_0x39d377=>[parseInt(_0x39d377['slice'](0x0,0x2),0x10),parseInt(_0x39d377[_0x2e3cc3(0x1bd)](0x2),0x10)])]);break;default:_0x957132(_0x2e3cc3(0x229)+_0x23714a);return;}const _0x54180b=new Uint8Array([0x5,0x1,0x0,..._0x2c33d2,_0x5d6889>>0x8,_0x5d6889&0xff]);await _0x5515a8[_0x2e3cc3(0x169)](_0x54180b);_0x957132('已发送\x20SOCKS5\x20请求');_0x4cc944=(await _0x557ee2[_0x2e3cc3(0xc6)]())[_0x2e3cc3(0x214)];if(_0x4cc944[0x1]===0x0){_0x957132(_0x2e3cc3(0x27d));}else{_0x957132(_0x2e3cc3(0xb3));return;}_0x5515a8['releaseLock']();_0x557ee2[_0x2e3cc3(0x1fd)]();return _0x443b3c;}async function httpConnect(_0x1b88eb,_0x5a8087,_0x339062){const _0x3dc7d1=_0x5a1b34;const {username:_0x3e1eff,password:_0x5c40b0,hostname:_0x206de0,port:_0x1018b6}=parsedSocks5Address;const _0x1553a1=await connect({'hostname':_0x206de0,'port':_0x1018b6});let _0x3c337b=_0x3dc7d1(0x217)+_0x1b88eb+':'+_0x5a8087+_0x3dc7d1(0xd6);_0x3c337b+='Host:\x20'+_0x1b88eb+':'+_0x5a8087+'\x0d\x0a';if(_0x3e1eff&&_0x5c40b0){const _0x1c39bf=_0x3e1eff+':'+_0x5c40b0;const _0x1c3b65=btoa(_0x1c39bf);_0x3c337b+=_0x3dc7d1(0x158)+_0x1c3b65+'\x0d\x0a';}_0x3c337b+='User-Agent:\x20Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x0d\x0a';_0x3c337b+=_0x3dc7d1(0xbe);_0x3c337b+=_0x3dc7d1(0x22c);_0x3c337b+='\x0d\x0a';_0x339062(_0x3dc7d1(0x22d)+_0x1b88eb+':'+_0x5a8087+_0x3dc7d1(0x1ba)+_0x206de0+':'+_0x1018b6);try{const _0x1cab3b=_0x1553a1[_0x3dc7d1(0x9c)][_0x3dc7d1(0x18e)]();await _0x1cab3b[_0x3dc7d1(0x169)](new TextEncoder()[_0x3dc7d1(0x92)](_0x3c337b));_0x1cab3b['releaseLock']();}catch(_0xb6db86){console[_0x3dc7d1(0x18f)](_0x3dc7d1(0x10a),_0xb6db86);throw new Error(_0x3dc7d1(0x272)+_0xb6db86[_0x3dc7d1(0xe0)]);}const _0x573674=_0x1553a1['readable'][_0x3dc7d1(0x18b)]();let _0x22053c='';let _0x83bc81=![];let _0x3f57c4=new Uint8Array(0x0);try{while(!![]){const {value:_0x5e144a,done:_0x3e76ab}=await _0x573674[_0x3dc7d1(0xc6)]();if(_0x3e76ab){console[_0x3dc7d1(0x18f)](_0x3dc7d1(0x241));throw new Error(_0x3dc7d1(0x241));}const _0x24d4a6=new Uint8Array(_0x3f57c4[_0x3dc7d1(0x1a2)]+_0x5e144a['length']);_0x24d4a6['set'](_0x3f57c4);_0x24d4a6[_0x3dc7d1(0x12f)](_0x5e144a,_0x3f57c4[_0x3dc7d1(0x1a2)]);_0x3f57c4=_0x24d4a6;_0x22053c=new TextDecoder()[_0x3dc7d1(0x205)](_0x3f57c4);if(_0x22053c['includes']('\x0d\x0a\x0d\x0a')){const _0x335136=_0x22053c[_0x3dc7d1(0x14c)](_0x3dc7d1(0x218))+0x4;const _0x31b1e6=_0x22053c[_0x3dc7d1(0x94)](0x0,_0x335136);_0x339062('收到HTTP代理响应:\x20'+_0x31b1e6['split']('\x0d\x0a')[0x0]);if(_0x31b1e6[_0x3dc7d1(0x230)](_0x3dc7d1(0x265))||_0x31b1e6[_0x3dc7d1(0x230)](_0x3dc7d1(0x24d))){_0x83bc81=!![];if(_0x335136<_0x3f57c4[_0x3dc7d1(0x1a2)]){const _0x5d0fa0=_0x3f57c4[_0x3dc7d1(0x1bd)](_0x335136);const _0x29b98d=new ReadableStream({'start'(_0x4dd3d0){const _0x90b6fc=_0x3dc7d1;_0x4dd3d0[_0x90b6fc(0x1a3)](_0x5d0fa0);}});const {readable:_0x3341dd,writable:_0x1ed946}=new TransformStream();_0x29b98d[_0x3dc7d1(0x17c)](_0x1ed946)[_0x3dc7d1(0x115)](_0x1b44ea=>console[_0x3dc7d1(0x18f)](_0x3dc7d1(0xc9),_0x1b44ea));_0x1553a1[_0x3dc7d1(0x219)]=_0x3341dd;}}else{const _0x2ea2c3=_0x3dc7d1(0xf5)+_0x31b1e6[_0x3dc7d1(0x85)]('\x0d\x0a')[0x0];console[_0x3dc7d1(0x18f)](_0x2ea2c3);throw new Error(_0x2ea2c3);}break;}}}catch(_0x463517){_0x573674[_0x3dc7d1(0x1fd)]();throw new Error('处理HTTP代理响应失败:\x20'+_0x463517[_0x3dc7d1(0xe0)]);}_0x573674[_0x3dc7d1(0x1fd)]();if(!_0x83bc81){throw new Error('HTTP代理连接失败:\x20未收到成功响应');}_0x339062('HTTP代理连接成功:\x20'+_0x1b88eb+':'+_0x5a8087);return _0x1553a1;}function socks5AddressParser(_0x4d12ec){const _0x16972d=_0x5a1b34;const _0x515f58=_0x4d12ec[_0x16972d(0x102)]('@');let [_0x5b96bd,_0x2d53ce]=_0x515f58===-0x1?[_0x4d12ec,undefined]:[_0x4d12ec[_0x16972d(0x94)](_0x515f58+0x1),_0x4d12ec[_0x16972d(0x94)](0x0,_0x515f58)];let _0x426aef,_0x2bf2ca,_0x454209,_0x4bfe38;if(_0x2d53ce){const _0x124766=_0x2d53ce['split'](':');if(_0x124766[_0x16972d(0x1a2)]!==0x2){throw new Error(_0x16972d(0xef));}[_0x426aef,_0x2bf2ca]=_0x124766;}const _0xc89345=_0x5b96bd[_0x16972d(0x85)](':');if(_0xc89345[_0x16972d(0x1a2)]>0x2&&_0x5b96bd['includes'](']:')){_0x4bfe38=Number(_0x5b96bd[_0x16972d(0x85)](']:')[0x1][_0x16972d(0x147)](/[^\d]/g,''));_0x454209=_0x5b96bd[_0x16972d(0x85)](']:')[0x0]+']';}else if(_0xc89345['length']===0x2){_0x4bfe38=Number(_0xc89345[_0x16972d(0x1eb)]()[_0x16972d(0x147)](/[^\d]/g,''));_0x454209=_0xc89345[_0x16972d(0x198)](':');}else{_0x4bfe38=0x50;_0x454209=_0x5b96bd;}if(isNaN(_0x4bfe38)){throw new Error(_0x16972d(0xb1));}const _0x190da0=/^\[.*\]$/;if(_0x454209['includes'](':')&&!_0x190da0[_0x16972d(0x22f)](_0x454209)){throw new Error(_0x16972d(0x161));}return{'username':_0x426aef,'password':_0x2bf2ca,'hostname':_0x454209,'port':_0x4bfe38};}function 恢复伪装信息(_0x2f441f,_0x141046,_0x2d5f71,_0x16d993,_0x290864,_0x59e23d){const _0x1870df=_0x5a1b34;if(_0x59e23d)_0x2f441f=atob(_0x2f441f);_0x2f441f=_0x2f441f[_0x1870df(0x147)](new RegExp(_0x16d993,'g'),_0x141046)[_0x1870df(0x147)](new RegExp(_0x290864,'g'),_0x2d5f71);if(_0x59e23d)_0x2f441f=btoa(_0x2f441f);return _0x2f441f;}async function 双重哈希(_0x5a64cb){const _0x294cfe=_0x5a1b34;const _0x48571f=new TextEncoder();const _0x1ef2ae=await crypto[_0x294cfe(0x95)][_0x294cfe(0x1d0)]('MD5',_0x48571f['encode'](_0x5a64cb));const _0x468c66=Array[_0x294cfe(0x224)](new Uint8Array(_0x1ef2ae));const _0x4ea4d8=_0x468c66[_0x294cfe(0xf6)](_0x1749d2=>_0x1749d2[_0x294cfe(0xb4)](0x10)[_0x294cfe(0x15f)](0x2,'0'))[_0x294cfe(0x198)]('');const _0x1d0702=await crypto[_0x294cfe(0x95)]['digest'](_0x294cfe(0x18c),_0x48571f[_0x294cfe(0x92)](_0x4ea4d8[_0x294cfe(0x1bd)](0x7,0x1b)));const _0x4fd7f1=Array[_0x294cfe(0x224)](new Uint8Array(_0x1d0702));const _0x18f5df=_0x4fd7f1[_0x294cfe(0xf6)](_0x4263f1=>_0x4263f1[_0x294cfe(0xb4)](0x10)[_0x294cfe(0x15f)](0x2,'0'))['join']('');return _0x18f5df[_0x294cfe(0x98)]();}async function 代理URL(_0x27dbbe,_0x5a9dbc){const _0x3c1a74=_0x5a1b34;const _0x490f86=await 整理(_0x27dbbe);const _0x28c49e=_0x490f86[Math[_0x3c1a74(0x130)](Math[_0x3c1a74(0x24b)]()*_0x490f86[_0x3c1a74(0x1a2)])];let _0x485be5=new URL(_0x28c49e);console[_0x3c1a74(0x10d)](_0x485be5);let _0x5c8578=_0x485be5[_0x3c1a74(0x226)][_0x3c1a74(0x1bd)](0x0,-0x1)||'https';let _0x54a9e1=_0x485be5['hostname'];let _0x49c452=_0x485be5[_0x3c1a74(0x165)];let _0x478cf5=_0x485be5[_0x3c1a74(0x1ed)];if(_0x49c452[_0x3c1a74(0x9a)](_0x49c452[_0x3c1a74(0x1a2)]-0x1)=='/'){_0x49c452=_0x49c452[_0x3c1a74(0x1bd)](0x0,-0x1);}_0x49c452+=_0x5a9dbc[_0x3c1a74(0x165)];let _0x1a64f5=_0x5c8578+_0x3c1a74(0x100)+_0x54a9e1+_0x49c452+_0x478cf5;let _0x12870c=await fetch(_0x1a64f5);let _0x1e449a=new Response(_0x12870c[_0x3c1a74(0x177)],{'status':_0x12870c[_0x3c1a74(0xd9)],'statusText':_0x12870c[_0x3c1a74(0xae)],'headers':_0x12870c['headers']});_0x1e449a['headers']['set'](_0x3c1a74(0x284),_0x1a64f5);return _0x1e449a;}const 啥啥啥_写的这是啥啊=atob(_0x5a1b34(0xaf));function 配置信息(_0x520dbd,_0x14e0d9){const _0x785074=_0x5a1b34;const _0x595c20=atob(啥啥啥_写的这是啥啊);const _0x5903f6=FileName;let _0x2ba9fd=_0x14e0d9;let _0x267658=0x1bb;const _0x34828e=_0x520dbd;const _0x30b0d9=_0x785074(0xcb);const _0x5c1760='ws';const _0x2977ed=_0x14e0d9;const _0x3fd713=path;let _0xe46f7b=['tls',!![]];const _0x95c4b=_0x14e0d9;const _0x5e2ca6=_0x785074(0x89);if(_0x14e0d9[_0x785074(0x134)](_0x785074(0x256))){_0x2ba9fd=atob(_0x785074(0xed));_0x267658=0x50;_0xe46f7b=['',![]];}const _0x546e8b=_0x595c20+_0x785074(0x100)+_0x34828e+'@'+_0x2ba9fd+':'+_0x267658+'?encry'+'p'+(atob('dGlvbj0=')+_0x30b0d9+_0x785074(0xb7)+_0xe46f7b[0x0]+_0x785074(0x1f9)+_0x95c4b+_0x785074(0xc7)+_0x5e2ca6+'&type='+_0x5c1760+'&host='+_0x2977ed+_0x785074(0x209)+(encodeURIComponent(_0x3fd713)+allowInsecure)+_0x785074(0x271)+encodeURIComponent(_0x785074(0x235))+'#'+encodeURIComponent(_0x5903f6));const _0x3a3543=_0x785074(0x9b)+FileName+_0x785074(0xd0)+_0x2ba9fd+',\x20port:\x20'+_0x267658+_0x785074(0x119)+_0x595c20+_0x785074(0xac)+_0x34828e+_0x785074(0x1ff)+_0xe46f7b[0x1]+_0x785074(0x112)+_0x95c4b+_0x785074(0x86)+SCV+_0x785074(0x1c0)+_0x2977ed+',\x20client-fingerprint:\x20'+_0x5e2ca6+_0x785074(0x206)+_0x5c1760+',\x20ws-opts:\x20{path:\x20\x22'+_0x3fd713+_0x785074(0x1d5)+_0x2977ed+_0x785074(0x215);return[_0x546e8b,_0x3a3543];}let subParams=['sub',_0x5a1b34(0xa1),_0x5a1b34(0x1f7),_0x5a1b34(0x26f),_0x5a1b34(0x122),'sb'];async function 生成配置信息(_0x47c33d,_0x2e3608,_0x2eac3c,_0x1dc246,_0x9f7f23,_0x14eafe,_0x5eebcd,_0x5e9e4b,_0x392068){const _0x13a2dc=_0x5a1b34;if(_0x2eac3c){const _0x1174ac=_0x2eac3c[_0x13a2dc(0x16a)](/^(?:https?:\/\/)?([^\/]+)/);if(_0x1174ac){_0x2eac3c=_0x1174ac[0x1];}const _0x4c9889=await 整理(_0x2eac3c);if(_0x4c9889[_0x13a2dc(0x1a2)]>0x1)_0x2eac3c=_0x4c9889[0x0];}else{if(_0x392068['KV']){await 迁移地址列表(_0x392068);const _0x31d954=await _0x392068['KV'][_0x13a2dc(0x1ac)](_0x13a2dc(0x1e5));if(_0x31d954){const _0x57066c=await 整理(_0x31d954);const _0x33596c={'接口地址':new Set(),'链接地址':new Set(),'优选地址':new Set()};for(const _0xd24bc0 of _0x57066c){if(_0xd24bc0[_0x13a2dc(0x230)](_0x13a2dc(0x10f))){_0x33596c[_0x13a2dc(0xe5)][_0x13a2dc(0x1c8)](_0xd24bc0);}else if(_0xd24bc0[_0x13a2dc(0x134)](_0x13a2dc(0x100))){_0x33596c[_0x13a2dc(0xfd)][_0x13a2dc(0x1c8)](_0xd24bc0);}else{_0x33596c['优选地址'][_0x13a2dc(0x1c8)](_0xd24bc0);}}addressesapi=[..._0x33596c[_0x13a2dc(0xe5)]];link=[..._0x33596c[_0x13a2dc(0xfd)]];addresses=[..._0x33596c[_0x13a2dc(0x186)]];}}if(addresses[_0x13a2dc(0x1a2)]+addressesapi['length']+addressesnotls['length']+addressesnotlsapi[_0x13a2dc(0x1a2)]+addressescsv['length']==0x0){let _0x2b71aa=[_0x13a2dc(0x1e2)];try{const _0x2eca94=await fetch(_0x13a2dc(0x201));if(_0x2eca94['ok']){const _0x11be82=await _0x2eca94[_0x13a2dc(0x154)]();_0x2b71aa=await 整理(_0x11be82);}}catch(_0x4db361){console[_0x13a2dc(0x10d)](_0x13a2dc(0xce),_0x4db361);}function _0x16e33a(_0x588179){const _0x2673e2=_0x13a2dc;const [_0x2fcd60,_0xee9389]=_0x588179[_0x2673e2(0x85)]('/');const _0x49b3e9=_0x2fcd60['split']('.')[_0x2673e2(0xf6)](Number);const _0x886370=0x20-parseInt(_0xee9389,0xa);const _0xc8085e=Math[_0x2673e2(0xad)](0x2,_0x886370)-0x1;const _0x413247=Math['floor'](Math[_0x2673e2(0x24b)]()*_0xc8085e);const _0x3cee06=_0x49b3e9['map']((_0xc52367,_0x164f9c)=>{if(_0x164f9c<0x2)return _0xc52367;if(_0x164f9c===0x2)return(_0xc52367&0xff<<_0x886370-0x8)+(_0x413247>>0x8&0xff);return(_0xc52367&0xff<<_0x886370)+(_0x413247&0xff);});return _0x3cee06[_0x2673e2(0x198)]('.');}addresses=addresses['concat'](_0x13a2dc(0x181));let _0x12a3e3=0x1;if(_0x2e3608[_0x13a2dc(0x134)](_0x13a2dc(0x16f))||_0x2e3608[_0x13a2dc(0x134)]('notls')){const _0x3c8d4a=httpPorts[_0x13a2dc(0x97)]('80');addressesnotls=addressesnotls['concat'](_0x2b71aa[_0x13a2dc(0xf6)](_0x9a149c=>_0x16e33a(_0x9a149c)+':'+_0x3c8d4a[Math[_0x13a2dc(0x130)](Math[_0x13a2dc(0x24b)]()*_0x3c8d4a[_0x13a2dc(0x1a2)])]+'#CF随机节点'+String(_0x12a3e3++)[_0x13a2dc(0x15f)](0x2,'0')));}else{const _0x22f265=httpsPorts[_0x13a2dc(0x97)](_0x13a2dc(0x1f6));addresses=addresses['concat'](_0x2b71aa[_0x13a2dc(0xf6)](_0x3c501a=>_0x16e33a(_0x3c501a)+':'+_0x22f265[Math[_0x13a2dc(0x130)](Math[_0x13a2dc(0x24b)]()*_0x22f265['length'])]+_0x13a2dc(0x194)+String(_0x12a3e3++)[_0x13a2dc(0x15f)](0x2,'0')));}}}const _0x3e4b5b=_0x14eafe[_0x13a2dc(0x165)]=='/'+动态UUID?动态UUID:_0x47c33d;const _0x282082=_0x1dc246[_0x13a2dc(0x98)]();const _0x49d634=配置信息(_0x47c33d,_0x2e3608);const _0x3161df=_0x49d634[0x0];const _0x4f4086=_0x49d634[0x1];let _0x57212a='';if(_0x2e3608['includes'](_0x13a2dc(0x256))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x13a2dc(0x1a2)]==0x0)){try{const _0x4ab66f=await fetch(proxyhostsURL);if(!_0x4ab66f['ok']){console[_0x13a2dc(0x18f)]('获取地址时出错:',_0x4ab66f[_0x13a2dc(0xd9)],_0x4ab66f[_0x13a2dc(0xae)]);return;}const _0x131a2b=await _0x4ab66f[_0x13a2dc(0x154)]();const _0x211d13=_0x131a2b[_0x13a2dc(0x85)]('\x0a');const _0x212961=_0x211d13[_0x13a2dc(0x285)](_0x4167c4=>_0x4167c4[_0x13a2dc(0x20a)]()!=='');proxyhosts=proxyhosts[_0x13a2dc(0x97)](_0x212961);}catch(_0x9f0cf6){}}if(proxyhosts['length']!=0x0)_0x57212a=proxyhosts[Math['floor'](Math['random']()*proxyhosts[_0x13a2dc(0x1a2)])]+'/';}if(_0x282082[_0x13a2dc(0x134)](_0x13a2dc(0x1e9))&&!subParams[_0x13a2dc(0x1b8)](_0x3fb527=>_0x14eafe[_0x13a2dc(0x1a0)][_0x13a2dc(0x13c)](_0x3fb527))){const _0x535866=socks5s[_0x13a2dc(0xf6)](_0x5c81da=>{const _0x46c042=_0x13a2dc;if(_0x5c81da['includes']('@'))return _0x5c81da[_0x46c042(0x85)]('@')[0x1];else if(_0x5c81da[_0x46c042(0x134)]('//'))return _0x5c81da[_0x46c042(0x85)]('//')[0x1];else return _0x5c81da;});let _0xf00a09='';if(go2Socks5s[_0x13a2dc(0x1a2)]>0x0&&enableSocks){_0xf00a09=''+((enableHttp?'HTTP':_0x13a2dc(0x9f))+decodeURIComponent(_0x13a2dc(0x13b)));if(go2Socks5s[_0x13a2dc(0x134)](atob(_0x13a2dc(0x10b)))||go2Socks5s[_0x13a2dc(0x134)](atob('Kg==')))_0xf00a09+=decodeURIComponent(_0x13a2dc(0x133))+_0x13a2dc(0x159);else _0xf00a09+=_0x13a2dc(0xf4)+go2Socks5s[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);}let _0x1281f9=_0x13a2dc(0x159);if(_0x2eac3c){if(enableSocks)_0x1281f9+=_0x13a2dc(0xc4)+(enableHttp?_0x13a2dc(0xe4):_0x13a2dc(0x9f))+'<br>&nbsp;&nbsp;'+_0x535866[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159)+_0xf00a09;else if(proxyIP&&proxyIP!='')_0x1281f9+=_0x13a2dc(0x26b)+proxyIPs[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);else if(_0x9f7f23=='true')_0x1281f9+=_0x13a2dc(0x247);else _0x1281f9+=_0x13a2dc(0x15e);_0x1281f9+=_0x13a2dc(0xb2)+_0x2eac3c;}else{if(enableSocks)_0x1281f9+='CFCDN（访问方式）:\x20'+(enableHttp?_0x13a2dc(0xe4):'Socks5')+_0x13a2dc(0xf4)+_0x535866[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159)+_0xf00a09;else if(proxyIP&&proxyIP!='')_0x1281f9+=_0x13a2dc(0x26b)+proxyIPs[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);else _0x1281f9+=_0x13a2dc(0x15e);let _0x4e84d5='';if(_0x392068['KV'])_0x4e84d5='\x20[<a\x20href=\x27'+_0x14eafe[_0x13a2dc(0x165)]+'/edit\x27>编辑优选列表</a>]\x20\x20[<a\x20href=\x27'+_0x14eafe[_0x13a2dc(0x165)]+_0x13a2dc(0x12b);_0x1281f9+=_0x13a2dc(0xc3)+_0x4e84d5+'<br>';if(addresses[_0x13a2dc(0x1a2)]>0x0)_0x1281f9+=_0x13a2dc(0x10c)+addresses[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);if(addressesnotls['length']>0x0)_0x1281f9+=_0x13a2dc(0x9e)+addressesnotls[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+'<br>';if(addressesapi['length']>0x0)_0x1281f9+=_0x13a2dc(0x1ab)+addressesapi[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);if(addressesnotlsapi[_0x13a2dc(0x1a2)]>0x0)_0x1281f9+=_0x13a2dc(0x90)+addressesnotlsapi[_0x13a2dc(0x198)](_0x13a2dc(0xf4))+_0x13a2dc(0x159);if(addressescsv[_0x13a2dc(0x1a2)]>0x0)_0x1281f9+=_0x13a2dc(0x107)+DLS+'\x20）:\x20<br>&nbsp;&nbsp;'+addressescsv['join'](_0x13a2dc(0xf4))+_0x13a2dc(0x159);}if(动态UUID&&_0x14eafe['pathname']!=='/'+动态UUID)_0x1281f9='';else _0x1281f9+=_0x13a2dc(0x1e3)+subProtocol+_0x13a2dc(0x100)+subConverter+'/version\x27\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>'+subProtocol+_0x13a2dc(0x100)+subConverter+'</a><br>SUBCONFIG（订阅转换配置文件）:\x20<a\x20href=\x27'+subConfig+'\x27\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>'+subConfig+'</a>';const _0x4c83bd=_0x3e4b5b!=_0x47c33d?'TOKEN:\x20'+_0x3e4b5b+'<br>UUIDNow:\x20'+_0x47c33d+_0x13a2dc(0x7f)+userIDLow+_0x13a2dc(0x159)+userIDTime+'TIME（动态UUID有效时间）:\x20'+有效时间+_0x13a2dc(0x15d)+更新时间+'\x20时（北京时间）<br><br>':''+userIDTime;const _0x4a391c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Subscribe\x20/\x20sub\x20订阅地址,\x20点击链接自动\x20<strong>复制订阅链接</strong>\x20并\x20<strong>生成订阅二维码</strong>\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20自适应订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x8f)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x228)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x129)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0xda)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+'?clash\x27,\x27qrcode_2\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://'+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x17d)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x192)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x1a9)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x185)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x16c)+atob(_0x13a2dc(0xf3))+_0x13a2dc(0x106)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x23e)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x11d)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+_0x13a2dc(0x155)+_0x57212a+_0x2e3608+'/'+_0x3e4b5b+'?sub=sub.google.com<strong>&</strong>proxyip=proxyip.cmliussss.net<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.jsdelivr.net/npm/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClipboard(text,\x20qrcode)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27已复制到剪贴板\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(err\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrcodeDiv\x20=\x20document.getElementById(qrcode);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrcodeDiv.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(qrcodeDiv,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20220,\x20//\x20调整宽度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20220,\x20//\x20调整高度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark:\x20\x22#000000\x22,\x20//\x20二维码颜色\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight:\x20\x22#ffffff\x22,\x20//\x20背景颜色\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel:\x20QRCode.CorrectLevel.Q,\x20//\x20设置纠错级别\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scale:\x201\x20//\x20调整像素颗粒度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleNotice()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(noticeContent.style.display\x20===\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27实用订阅技巧∧\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27none\x27;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27实用订阅技巧∨\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+FileName+_0x13a2dc(0xfc)+_0x4c83bd+'HOST:\x20'+_0x2e3608+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UUID:\x20'+_0x47c33d+_0x13a2dc(0x131)+_0x5eebcd+_0x13a2dc(0x1b2)+_0x1dc246+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SCV（跳过TLS证书验证）:\x20'+SCV+_0x13a2dc(0x259)+_0x1281f9+_0x13a2dc(0x188)+_0x3161df+_0x13a2dc(0x12c)+_0x3161df+_0x13a2dc(0x14b)+_0x4f4086+_0x13a2dc(0x1a8);return'<div\x20style=\x22font-size:13px;\x22>'+_0x4a391c+'</div>';}else{if(typeof fetch!=_0x13a2dc(0x163)){return'Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.';}let _0x5762a8=[];let _0x41cdb3=[];let _0x15f2dc=[];let _0x20d299=[];if(_0x2e3608[_0x13a2dc(0x134)]('.workers.dev')){noTLS=_0x13a2dc(0x1de);_0x5e9e4b=_0x5e9e4b+_0x13a2dc(0x256);_0x15f2dc=await 整理优选列表(addressesnotlsapi);_0x20d299=await 整理测速结果(_0x13a2dc(0x11e));}else if(_0x2e3608[_0x13a2dc(0x134)]('.pages.dev')){_0x5e9e4b=_0x5e9e4b+_0x13a2dc(0x260);}else if(_0x2e3608[_0x13a2dc(0x134)](_0x13a2dc(0x16f))||_0x2e3608[_0x13a2dc(0x134)]('notls')||noTLS==_0x13a2dc(0x1de)){noTLS='true';_0x5e9e4b='notls'+_0x5e9e4b+_0x13a2dc(0x289);_0x15f2dc=await 整理优选列表(addressesnotlsapi);_0x20d299=await 整理测速结果('FALSE');}else{_0x5e9e4b=_0x5e9e4b+'.xyz';}console[_0x13a2dc(0x10d)](_0x13a2dc(0x160)+_0x5e9e4b);let _0x3cbe07=subProtocol+_0x13a2dc(0x100)+_0x2eac3c+_0x13a2dc(0x149)+_0x5e9e4b+'&uuid='+(_0x5eebcd+atob(_0x13a2dc(0x7d))+_0x9f7f23)+'&path='+encodeURIComponent(path);let _0x1d9cc8=!![];if(!_0x2eac3c||_0x2eac3c==''){if(_0x2e3608['includes'](_0x13a2dc(0x1ee))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x13a2dc(0x1a2)]==0x0)){try{const _0x357c1b=await fetch(proxyhostsURL);if(!_0x357c1b['ok']){console[_0x13a2dc(0x18f)](_0x13a2dc(0x25b),_0x357c1b[_0x13a2dc(0xd9)],_0x357c1b['statusText']);return;}const _0xcd408e=await _0x357c1b[_0x13a2dc(0x154)]();const _0x291a70=_0xcd408e['split']('\x0a');const _0x37d310=_0x291a70[_0x13a2dc(0x285)](_0x378e7d=>_0x378e7d['trim']()!=='');proxyhosts=proxyhosts['concat'](_0x37d310);}catch(_0x563caf){console[_0x13a2dc(0x18f)]('获取地址时出错:',_0x563caf);}}proxyhosts=[...new Set(proxyhosts)];}_0x5762a8=await 整理优选列表(addressesapi);_0x41cdb3=await 整理测速结果(_0x13a2dc(0x23a));_0x3cbe07=_0x13a2dc(0x10f)+_0x2e3608+'/'+(_0x5eebcd+_0x14eafe[_0x13a2dc(0x1ed)]);if(_0x2e3608[_0x13a2dc(0x134)](_0x13a2dc(0x16f))||_0x2e3608[_0x13a2dc(0x134)]('notls')||noTLS==_0x13a2dc(0x1de)){if(_0x14eafe[_0x13a2dc(0x1ed)])_0x3cbe07+=_0x13a2dc(0x104);else _0x3cbe07+='?notls';}console[_0x13a2dc(0x10d)](_0x13a2dc(0x116)+_0x3cbe07);}if(_0x282082[_0x13a2dc(0x134)](_0x13a2dc(0x237)[_0x13a2dc(0x98)]())||_0x14eafe[_0x13a2dc(0x1a0)][_0x13a2dc(0x13c)](_0x13a2dc(0x1f7))||_0x14eafe[_0x13a2dc(0x1a0)][_0x13a2dc(0x13c)](_0x13a2dc(0xa1))||_0x282082[_0x13a2dc(0x134)](_0x13a2dc(0x252))){_0x1d9cc8=!![];}else if(_0x282082[_0x13a2dc(0x134)](_0x13a2dc(0x26f))&&!_0x282082['includes'](_0x13a2dc(0x27f))||_0x14eafe['searchParams'][_0x13a2dc(0x13c)](_0x13a2dc(0x26f))){_0x3cbe07=subProtocol+'://'+subConverter+_0x13a2dc(0x162)+encodeURIComponent(_0x3cbe07)+_0x13a2dc(0x202)+encodeURIComponent(subConfig)+_0x13a2dc(0x1f0)+subEmoji+_0x13a2dc(0x145)+SCV+'&fdn=false&sort=false&new_name=true';_0x1d9cc8=![];}else if(_0x282082[_0x13a2dc(0x134)]('sing-box')||_0x282082[_0x13a2dc(0x134)]('singbox')||_0x14eafe[_0x13a2dc(0x1a0)]['has'](_0x13a2dc(0x122))||_0x14eafe[_0x13a2dc(0x1a0)][_0x13a2dc(0x13c)]('sb')){_0x3cbe07=subProtocol+_0x13a2dc(0x100)+subConverter+_0x13a2dc(0xa0)+encodeURIComponent(_0x3cbe07)+_0x13a2dc(0x202)+encodeURIComponent(subConfig)+_0x13a2dc(0x1f0)+subEmoji+_0x13a2dc(0x145)+SCV+_0x13a2dc(0x1bb);_0x1d9cc8=![];}else if(_0x282082[_0x13a2dc(0x134)]('loon')||_0x14eafe[_0x13a2dc(0x1a0)][_0x13a2dc(0x13c)]('loon')){_0x3cbe07=subProtocol+_0x13a2dc(0x100)+subConverter+_0x13a2dc(0x84)+encodeURIComponent(_0x3cbe07)+_0x13a2dc(0x202)+encodeURIComponent(subConfig)+_0x13a2dc(0x1f0)+subEmoji+_0x13a2dc(0x145)+SCV+_0x13a2dc(0x1bb);_0x1d9cc8=![];}try{let _0x1b9c7f;if((!_0x2eac3c||_0x2eac3c=='')&&_0x1d9cc8==!![]){_0x1b9c7f=await 生成本地订阅(_0x5e9e4b,_0x5eebcd,noTLS,_0x5762a8,_0x41cdb3,_0x15f2dc,_0x20d299);}else{const _0x20b171=await fetch(_0x3cbe07,{'headers':{'User-Agent':_0x13a2dc(0x127)+atob(_0x13a2dc(0x1d2))}});_0x1b9c7f=await _0x20b171[_0x13a2dc(0x154)]();}if(_0x14eafe[_0x13a2dc(0x165)]=='/'+_0x5eebcd)return _0x1b9c7f;return 恢复伪装信息(_0x1b9c7f,_0x47c33d,_0x2e3608,_0x5eebcd,_0x5e9e4b,_0x1d9cc8);}catch(_0x52fc45){console[_0x13a2dc(0x18f)]('Error\x20fetching\x20content:',_0x52fc45);return _0x13a2dc(0x232)+_0x52fc45[_0x13a2dc(0xe0)];}}}async function 整理优选列表(_0x1e78b6){const _0x471c0b=_0x5a1b34;if(!_0x1e78b6||_0x1e78b6['length']===0x0)return[];let _0x1d8764='';const _0x5ab407=new AbortController();const _0x31e936=setTimeout(()=>{const _0x5ca6bb=_0x3ac9;_0x5ab407[_0x5ca6bb(0x172)]();},0x7d0);try{const _0x3d13c7=await Promise[_0x471c0b(0x25a)](_0x1e78b6[_0x471c0b(0xf6)](_0x201c46=>fetch(_0x201c46,{'method':_0x471c0b(0x1ac),'headers':{'Accept':_0x471c0b(0x8d),'User-Agent':atob(_0x471c0b(0x23b))},'signal':_0x5ab407[_0x471c0b(0x16d)]})[_0x471c0b(0xa2)](_0x44a6e9=>_0x44a6e9['ok']?_0x44a6e9[_0x471c0b(0x154)]():Promise[_0x471c0b(0x276)]())));for(const [_0x23ef33,_0x2e1669]of _0x3d13c7[_0x471c0b(0x170)]()){if(_0x2e1669[_0x471c0b(0xd9)]===_0x471c0b(0xb8)){const _0xd3537c=await _0x2e1669[_0x471c0b(0x214)];const _0x554718=_0xd3537c[_0x471c0b(0x85)](/\r?\n/);let _0x948819='';let _0x181601='443';if(_0x554718[0x0][_0x471c0b(0x85)](',')[_0x471c0b(0x1a2)]>0x3){const _0x470b33=_0x1e78b6[_0x23ef33]['match'](/id=([^&]*)/);if(_0x470b33)_0x948819=_0x470b33[0x1];const _0x43647e=_0x1e78b6[_0x23ef33][_0x471c0b(0x16a)](/port=([^&]*)/);if(_0x43647e)_0x181601=_0x43647e[0x1];for(let _0x380e65=0x1;_0x380e65<_0x554718[_0x471c0b(0x1a2)];_0x380e65++){const _0x298c26=_0x554718[_0x380e65]['split'](',')[0x0];if(_0x298c26){_0x1d8764+=_0x298c26+':'+_0x181601+(_0x948819?'#'+_0x948819:'')+'\x0a';if(_0x1e78b6[_0x23ef33][_0x471c0b(0x134)](_0x471c0b(0xcf)))proxyIPPool[_0x471c0b(0x211)](_0x298c26+':'+_0x181601);}}}else{if(_0x1e78b6[_0x23ef33][_0x471c0b(0x134)](_0x471c0b(0xcf))){proxyIPPool=proxyIPPool[_0x471c0b(0x97)]((await 整理(_0xd3537c))[_0x471c0b(0xf6)](_0x1d7d20=>{const _0x4d692e=_0x471c0b;const _0x3d0a81=_0x1d7d20[_0x4d692e(0x85)]('#')[0x0]||_0x1d7d20;if(_0x3d0a81[_0x4d692e(0x134)](':')){const _0x47a152=_0x3d0a81[_0x4d692e(0x85)](':')[0x1];if(!httpsPorts['includes'](_0x47a152)){return _0x3d0a81;}}else{return _0x3d0a81+_0x4d692e(0x1d6);}return null;})[_0x471c0b(0x285)](Boolean));}_0x1d8764+=_0xd3537c+'\x0a';}}}}catch(_0x168eca){console[_0x471c0b(0x18f)](_0x168eca);}finally{clearTimeout(_0x31e936);}const _0x449553=await 整理(_0x1d8764);return _0x449553;}async function 整理测速结果(_0x5f0d8b){const _0x2ebd0e=_0x5a1b34;if(!addressescsv||addressescsv['length']===0x0){return[];}let _0x59e903=[];for(const _0x7a5bc of addressescsv){try{const _0x25a39a=await fetch(_0x7a5bc);if(!_0x25a39a['ok']){console[_0x2ebd0e(0x18f)](_0x2ebd0e(0x1f1),_0x25a39a[_0x2ebd0e(0xd9)],_0x25a39a[_0x2ebd0e(0xae)]);continue;}const _0x58ae3b=await _0x25a39a[_0x2ebd0e(0x154)]();let _0x57da02;if(_0x58ae3b['includes']('\x0d\x0a')){_0x57da02=_0x58ae3b[_0x2ebd0e(0x85)]('\x0d\x0a');}else{_0x57da02=_0x58ae3b['split']('\x0a');}const _0xe74672=_0x57da02[0x0][_0x2ebd0e(0x85)](',');const _0x3083ad=_0xe74672['indexOf'](_0x2ebd0e(0x178));const _0x540da3=0x0;const _0xe4b744=0x1;const _0x52bd3d=_0x3083ad+remarkIndex;if(_0x3083ad===-0x1){console[_0x2ebd0e(0x18f)](_0x2ebd0e(0x1ad));continue;}for(let _0xb2f688=0x1;_0xb2f688<_0x57da02[_0x2ebd0e(0x1a2)];_0xb2f688++){const _0x217f16=_0x57da02[_0xb2f688][_0x2ebd0e(0x85)](',');const _0x26eced=_0x217f16[_0x2ebd0e(0x1a2)]-0x1;if(_0x217f16[_0x3083ad][_0x2ebd0e(0x1c2)]()===_0x5f0d8b&&parseFloat(_0x217f16[_0x26eced])>DLS){const _0x38f890=_0x217f16[_0x540da3];const _0x2d2af0=_0x217f16[_0xe4b744];const _0x3e63a0=_0x217f16[_0x52bd3d];const _0x2c3dfe=_0x38f890+':'+_0x2d2af0+'#'+_0x3e63a0;_0x59e903[_0x2ebd0e(0x211)](_0x2c3dfe);if(_0x7a5bc[_0x2ebd0e(0x134)](_0x2ebd0e(0xcf))&&_0x217f16[_0x3083ad][_0x2ebd0e(0x1c2)]()==_0x2ebd0e(0x1de)&&!httpsPorts['includes'](_0x2d2af0)){proxyIPPool['push'](_0x38f890+':'+_0x2d2af0);}}}}catch(_0x5569ad){console[_0x2ebd0e(0x18f)](_0x2ebd0e(0x1f1),_0x5569ad);continue;}}return _0x59e903;}function 生成本地订阅(_0x4848d,_0x1f0bdb,_0x108ec8,_0x1486d3,_0x9a22ad,_0x49a843,_0x407344){const _0x1d5f40=_0x5a1b34;const _0x281e2b=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses[_0x1d5f40(0x97)](_0x1486d3);addresses=addresses[_0x1d5f40(0x97)](_0x9a22ad);let _0x375fb8;if(_0x108ec8==_0x1d5f40(0x1de)){addressesnotls=addressesnotls[_0x1d5f40(0x97)](_0x49a843);addressesnotls=addressesnotls[_0x1d5f40(0x97)](_0x407344);const _0x4524b9=[...new Set(addressesnotls)];_0x375fb8=_0x4524b9[_0x1d5f40(0xf6)](_0x190dd4=>{const _0x552230=_0x1d5f40;let _0x18a705='-1';let _0x59b842=_0x190dd4;const _0x57db39=_0x59b842[_0x552230(0x16a)](_0x281e2b);if(!_0x57db39){if(_0x190dd4['includes'](':')&&_0x190dd4['includes']('#')){const _0x3cba4f=_0x190dd4[_0x552230(0x85)](':');_0x190dd4=_0x3cba4f[0x0];const _0x568e80=_0x3cba4f[0x1][_0x552230(0x85)]('#');_0x18a705=_0x568e80[0x0];_0x59b842=_0x568e80[0x1];}else if(_0x190dd4[_0x552230(0x134)](':')){const _0x1cd883=_0x190dd4['split'](':');_0x190dd4=_0x1cd883[0x0];_0x18a705=_0x1cd883[0x1];}else if(_0x190dd4[_0x552230(0x134)]('#')){const _0x28fba=_0x190dd4[_0x552230(0x85)]('#');_0x190dd4=_0x28fba[0x0];_0x59b842=_0x28fba[0x1];}if(_0x59b842['includes'](':')){_0x59b842=_0x59b842[_0x552230(0x85)](':')[0x0];}}else{_0x190dd4=_0x57db39[0x1];_0x18a705=_0x57db39[0x2]||_0x18a705;_0x59b842=_0x57db39[0x3]||_0x190dd4;}if(!isValidIPv4(_0x190dd4)&&_0x18a705=='-1'){for(let _0x44cf32 of httpPorts){if(_0x190dd4['includes'](_0x44cf32)){_0x18a705=_0x44cf32;break;}}}if(_0x18a705=='-1')_0x18a705='80';let _0x2f2ae2=_0x4848d;let _0x1894ad=path;let _0x22846b='';const _0x5e98ed=atob(啥啥啥_写的这是啥啊);const _0x4457d2=_0x5e98ed+_0x552230(0x100)+_0x1f0bdb+'@'+_0x190dd4+':'+(_0x18a705+atob('P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT0mdHlwZT13cyZob3N0PQ==')+_0x2f2ae2)+_0x552230(0x209)+encodeURIComponent(_0x1894ad)+'#'+encodeURIComponent(_0x59b842+_0x22846b);return _0x4457d2;})[_0x1d5f40(0x198)]('\x0a');}const _0x55d393=[...new Set(addresses)];const _0x301147=_0x55d393['map'](_0x981fb5=>{const _0x61e661=_0x1d5f40;let _0x2d179a='-1';let _0x34e188=_0x981fb5;const _0x9574e2=_0x34e188[_0x61e661(0x16a)](_0x281e2b);if(!_0x9574e2){if(_0x981fb5[_0x61e661(0x134)](':')&&_0x981fb5[_0x61e661(0x134)]('#')){const _0xfe5283=_0x981fb5[_0x61e661(0x85)](':');_0x981fb5=_0xfe5283[0x0];const _0x4d0301=_0xfe5283[0x1][_0x61e661(0x85)]('#');_0x2d179a=_0x4d0301[0x0];_0x34e188=_0x4d0301[0x1];}else if(_0x981fb5['includes'](':')){const _0x42e0bf=_0x981fb5[_0x61e661(0x85)](':');_0x981fb5=_0x42e0bf[0x0];_0x2d179a=_0x42e0bf[0x1];}else if(_0x981fb5[_0x61e661(0x134)]('#')){const _0x6c79dd=_0x981fb5['split']('#');_0x981fb5=_0x6c79dd[0x0];_0x34e188=_0x6c79dd[0x1];}if(_0x34e188[_0x61e661(0x134)](':')){_0x34e188=_0x34e188[_0x61e661(0x85)](':')[0x0];}}else{_0x981fb5=_0x9574e2[0x1];_0x2d179a=_0x9574e2[0x2]||_0x2d179a;_0x34e188=_0x9574e2[0x3]||_0x981fb5;}if(!isValidIPv4(_0x981fb5)&&_0x2d179a=='-1'){for(let _0x2518f5 of httpsPorts){if(_0x981fb5[_0x61e661(0x134)](_0x2518f5)){_0x2d179a=_0x2518f5;break;}}}if(_0x2d179a=='-1')_0x2d179a=_0x61e661(0x1f6);let _0x15c75c=_0x4848d;let _0x3c2fc7=path;let _0x1be0c2='';const _0x2c07f7=proxyIPPool['find'](_0x14990a=>_0x14990a[_0x61e661(0x134)](_0x981fb5));if(_0x2c07f7)_0x3c2fc7=_0x61e661(0x14e)+_0x2c07f7;const _0x5418c2=atob(啥啥啥_写的这是啥啊);const _0xaa9d33=_0x5418c2+'://'+_0x1f0bdb+'@'+_0x981fb5+':'+(_0x2d179a+atob(_0x61e661(0x1fe))+_0x15c75c)+_0x61e661(0x24e)+_0x15c75c+_0x61e661(0x209)+(encodeURIComponent(_0x3c2fc7)+allowInsecure)+_0x61e661(0x271)+encodeURIComponent(_0x61e661(0x235))+'#'+encodeURIComponent(_0x34e188+_0x1be0c2);return _0xaa9d33;})[_0x1d5f40(0x198)]('\x0a');let _0x2db532=_0x301147;if(_0x108ec8==_0x1d5f40(0x1de))_0x2db532+='\x0a'+_0x375fb8;if(link['length']>0x0)_0x2db532+='\x0a'+link[_0x1d5f40(0x198)]('\x0a');return btoa(_0x2db532);}async function 整理(_0x5130fb){const _0x713b67=_0x5a1b34;var _0x30efb0=_0x5130fb[_0x713b67(0x147)](/[	"'\r\n]+/g,',')[_0x713b67(0x147)](/,+/g,',');if(_0x30efb0[_0x713b67(0x9a)](0x0)==',')_0x30efb0=_0x30efb0[_0x713b67(0x1bd)](0x1);if(_0x30efb0[_0x713b67(0x9a)](_0x30efb0[_0x713b67(0x1a2)]-0x1)==',')_0x30efb0=_0x30efb0[_0x713b67(0x1bd)](0x0,_0x30efb0['length']-0x1);const _0x2bd81f=_0x30efb0[_0x713b67(0x85)](',');return _0x2bd81f;}async function sendMessage(_0x60f7c5,_0x221841,_0x1e19c0=''){const _0x44a7fc=_0x5a1b34;if(!BotToken||!ChatID)return;try{let _0x484d69='';const _0x9cadfc=await fetch(_0x44a7fc(0x261)+_0x221841+'?lang=zh-CN');if(_0x9cadfc['ok']){const _0x12897b=await _0x9cadfc[_0x44a7fc(0xfb)]();_0x484d69=_0x60f7c5+_0x44a7fc(0x13d)+_0x221841+_0x44a7fc(0x264)+_0x12897b[_0x44a7fc(0x14a)]+_0x44a7fc(0x12a)+_0x12897b['city']+_0x44a7fc(0xde)+_0x12897b['org']+'\x0aASN:\x20'+_0x12897b['as']+'\x0a'+_0x1e19c0;}else{_0x484d69=_0x60f7c5+_0x44a7fc(0x13d)+_0x221841+_0x44a7fc(0x1ec)+_0x1e19c0;}const _0x1f7a27=_0x44a7fc(0x18d)+BotToken+_0x44a7fc(0x1ce)+ChatID+_0x44a7fc(0xec)+encodeURIComponent(_0x484d69);return fetch(_0x1f7a27,{'method':_0x44a7fc(0x273),'headers':{'Accept':_0x44a7fc(0x8d),'Accept-Encoding':_0x44a7fc(0x11b),'User-Agent':_0x44a7fc(0x1ea)}});}catch(_0x4040ff){console[_0x44a7fc(0x18f)](_0x44a7fc(0x175),_0x4040ff);}}function isValidIPv4(_0x9b0d9){const _0x78031f=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x78031f['test'](_0x9b0d9);}function 生成动态UUID(_0x2c942e){const _0x4fcba1=_0x5a1b34;const _0x1e16a2=0x8;const _0x92b833=new Date(0x7d7,0x6,0x7,更新时间,0x0,0x0);const _0x2697e2=0x3e8*0x3c*0x3c*0x18*有效时间;function _0x39c1dd(){const _0x6a3b93=_0x3ac9;const _0x4ff356=new Date();const _0x1cf3b9=new Date(_0x4ff356['getTime']()+_0x1e16a2*0x3c*0x3c*0x3e8);const _0x130708=Number(_0x1cf3b9)-Number(_0x92b833);return Math[_0x6a3b93(0x245)](_0x130708/_0x2697e2);}function _0x55a8f8(_0x99d4fa){const _0x1d6222=_0x3ac9;const _0x172eb1=new TextEncoder()['encode'](_0x99d4fa);return crypto['subtle'][_0x1d6222(0x1d0)](_0x1d6222(0x221),_0x172eb1)[_0x1d6222(0xa2)](_0x26c24a=>{const _0x4fe23b=_0x1d6222;const _0x4f23fd=Array['from'](new Uint8Array(_0x26c24a));const _0x381e2d=_0x4f23fd[_0x4fe23b(0xf6)](_0x594c8d=>_0x594c8d['toString'](0x10)[_0x4fe23b(0x15f)](0x2,'0'))[_0x4fe23b(0x198)]('');return _0x381e2d['substr'](0x0,0x8)+'-'+_0x381e2d[_0x4fe23b(0x164)](0x8,0x4)+'-4'+_0x381e2d[_0x4fe23b(0x164)](0xd,0x3)+'-'+(parseInt(_0x381e2d[_0x4fe23b(0x164)](0x10,0x2),0x10)&0x3f|0x80)[_0x4fe23b(0xb4)](0x10)+_0x381e2d['substr'](0x12,0x2)+'-'+_0x381e2d[_0x4fe23b(0x164)](0x14,0xc);});}const _0x3fc11b=_0x39c1dd();const _0x15a2b1=new Date(_0x92b833[_0x4fcba1(0x1e1)]()+_0x3fc11b*_0x2697e2);const _0x2f2a25=_0x55a8f8(_0x2c942e+_0x3fc11b);const _0x454f78=_0x55a8f8(_0x2c942e+(_0x3fc11b-0x1));const _0x25023d=new Date(_0x15a2b1[_0x4fcba1(0x1e1)]()-_0x1e16a2*0x3c*0x3c*0x3e8);const _0x4de037=_0x4fcba1(0x171)+_0x25023d[_0x4fcba1(0xa3)]()[_0x4fcba1(0x1bd)](0x0,0x13)[_0x4fcba1(0x147)]('T','\x20')+'\x20(UTC+8):\x20'+_0x15a2b1[_0x4fcba1(0xa3)]()[_0x4fcba1(0x1bd)](0x0,0x13)[_0x4fcba1(0x147)]('T','\x20')+'\x0a';return Promise[_0x4fcba1(0x11f)]([_0x2f2a25,_0x454f78,_0x4de037]);}async function 迁移地址列表(_0x420f9a,_0x26e3c0=_0x5a1b34(0x1e5)){const _0x50dda0=_0x5a1b34;const _0x4891b2=await _0x420f9a['KV'][_0x50dda0(0x1ac)]('/'+_0x26e3c0);const _0x486776=await _0x420f9a['KV'][_0x50dda0(0x1ac)](_0x26e3c0);if(_0x4891b2&&!_0x486776){await _0x420f9a['KV'][_0x50dda0(0xcd)](_0x26e3c0,_0x4891b2);await _0x420f9a['KV'][_0x50dda0(0x1fa)]('/'+_0x26e3c0);return!![];}return![];}async function KV(_0xafb994,_0x1111ce,_0x28aaeb=_0x5a1b34(0x1e5)){const _0x376afc=_0x5a1b34;try{if(_0xafb994[_0x376afc(0x8a)]===_0x376afc(0x11a)){if(!_0x1111ce['KV'])return new Response(_0x376afc(0x27a),{'status':0x190});try{const _0x2a8773=await _0xafb994[_0x376afc(0x154)]();await _0x1111ce['KV'][_0x376afc(0xcd)](_0x28aaeb,_0x2a8773);return new Response(_0x376afc(0xf1));}catch(_0x10070c){console['error'](_0x376afc(0x91),_0x10070c);return new Response(_0x376afc(0x26a)+_0x10070c[_0x376afc(0xe0)],{'status':0x1f4});}}let _0x432f55='';let _0xc4d3b0=!!_0x1111ce['KV'];if(_0xc4d3b0){try{_0x432f55=await _0x1111ce['KV'][_0x376afc(0x1ac)](_0x28aaeb)||'';}catch(_0x5c79eb){console[_0x376afc(0x18f)]('读取KV时发生错误:',_0x5c79eb);_0x432f55=_0x376afc(0x117)+_0x5c79eb[_0x376afc(0xe0)];}}const _0x14ce4d=_0x376afc(0x204)+FileName+_0x376afc(0x1e4)+decodeURIComponent(atob(_0x376afc(0xb5)))+_0x376afc(0x1c5)+(_0xc4d3b0?_0x376afc(0x17e)+decodeURIComponent(atob(_0x376afc(0x258)))+_0x376afc(0x21e)+_0x432f55+_0x376afc(0x267):_0x376afc(0x19b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.querySelector(\x27.editor\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20timer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalContent\x20=\x20textarea.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBack()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBestIP()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl\x20+\x20\x27/bestip\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20replaceFullwidthColon()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20text\x20=\x20textarea.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.value\x20=\x20text.replace(/：/g,\x20\x27:\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20saveContent(button)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20updateButtonText\x20=\x20(step)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20`保存中:\x20${step}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检测是否为iOS设备\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20isIOS\x20=\x20/iPad|iPhone|iPod/.test(navigator.userAgent);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20仅在非iOS设备上执行replaceFullwidthColon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isIOS)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20replaceFullwidthColon();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27开始保存\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取textarea内容和原始内容\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!textarea)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27找不到文本编辑区域\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27获取内容\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20newContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20originalContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newContent\x20=\x20textarea.value\x20||\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20originalContent\x20=\x20textarea.defaultValue\x20||\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27获取内容错误:\x27,\x20e);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27无法获取编辑内容\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27准备状态更新函数\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20updateStatus\x20=\x20(message,\x20isError\x20=\x20false)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(statusElem)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.textContent\x20=\x20message;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.style.color\x20=\x20isError\x20?\x20\x27red\x27\x20:\x20\x27#666\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27准备按钮重置函数\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resetButton\x20=\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20\x27保存\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(newContent\x20!==\x20originalContent)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27发送保存请求\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetch(window.location.href,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20newContent,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27text/plain;charset=UTF-8\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cache:\x20\x27no-cache\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.then(response\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27检查响应状态\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(`HTTP\x20error!\x20status:\x20${response.status}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27更新保存状态\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date().toLocaleString();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.title\x20=\x20`编辑已保存\x20${now}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(`已保存\x20${now}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.catch(error\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27处理错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Save\x20error:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(`保存失败:\x20${error.message}`,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.finally(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resetButton();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27检查内容变化\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(\x27内容未变化\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resetButton();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27保存过程出错:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20\x27保存\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(statusElem)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.textContent\x20=\x20`错误:\x20${error.message}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.style.color\x20=\x20\x27red\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.addEventListener(\x27blur\x27,\x20saveContent);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.addEventListener(\x27input\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timer);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timer\x20=\x20setTimeout(saveContent,\x205000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleNotice()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(noticeContent.style.display\x20===\x20\x27none\x27\x20||\x20noticeContent.style.display\x20===\x20\x27\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27注意事项∧\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27注意事项∨\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20初始化\x20noticeContent\x20的\x20display\x20属性\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27noticeContent\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return new Response(_0x14ce4d,{'headers':{'Content-Type':_0x376afc(0x1df)}});}catch(_0x5ad1a9){console[_0x376afc(0x18f)](_0x376afc(0x1b9),_0x5ad1a9);return new Response(_0x376afc(0x212)+_0x5ad1a9[_0x376afc(0xe0)],{'status':0x1f4,'headers':{'Content-Type':'text/plain;charset=utf-8'}});}}async function resolveToIPv6(_0x3b2805){const _0xb2ee14=_0x5a1b34;const _0x1953f0=atob(_0xb2ee14(0xdc));if(!DNS64Server){try{const _0x1f666d=await fetch(atob(_0xb2ee14(0x240)),{'headers':{'Accept':_0xb2ee14(0xa7)}});if(!_0x1f666d['ok'])return _0x1953f0;const _0x699bd0=await _0x1f666d['json']();const _0x29fac1=(_0x699bd0[_0xb2ee14(0x1c9)]||[])[_0xb2ee14(0x285)](_0x5765fa=>_0x5765fa[_0xb2ee14(0xb9)]===0x10)[_0xb2ee14(0xf6)](_0x40c681=>_0x40c681[_0xb2ee14(0xeb)]);if(_0x29fac1[_0xb2ee14(0x1a2)]===0x0)return _0x1953f0;let _0x1e8c7c=_0x29fac1[0x0];if(_0x1e8c7c[_0xb2ee14(0x230)]('\x22')&&_0x1e8c7c[_0xb2ee14(0xd7)]('\x22'))_0x1e8c7c=_0x1e8c7c[_0xb2ee14(0x1bd)](0x1,-0x1);const _0xdbd296=_0x1e8c7c[_0xb2ee14(0x147)](/\\010/g,'\x0a')['split']('\x0a')[_0xb2ee14(0x285)](_0x3126b4=>_0x3126b4[_0xb2ee14(0x20a)]());if(_0xdbd296[_0xb2ee14(0x1a2)]===0x0)return _0x1953f0;DNS64Server=_0xdbd296[Math[_0xb2ee14(0x130)](Math[_0xb2ee14(0x24b)]()*_0xdbd296['length'])];}catch(_0xcdb535){console[_0xb2ee14(0x18f)](_0xb2ee14(0x255),_0xcdb535);return _0x1953f0;}}function _0xe2cab2(_0x309475){const _0x252427=_0xb2ee14;const _0x3555a9=_0x309475[_0x252427(0x85)]('.');return _0x3555a9[_0x252427(0x1a2)]===0x4&&_0x3555a9[_0x252427(0x1da)](_0x4d7906=>{const _0xc4cbf6=_0x252427;const _0x4bc34f=parseInt(_0x4d7906,0xa);return _0x4bc34f>=0x0&&_0x4bc34f<=0xff&&_0x4d7906===_0x4bc34f[_0xc4cbf6(0xb4)]();});}function _0x52ef7f(_0x1c2420){const _0x3a2cc1=_0xb2ee14;return _0x1c2420[_0x3a2cc1(0x134)](':')&&/^[0-9a-fA-F:]+$/['test'](_0x1c2420);}async function _0x9b9694(_0x8951db){const _0x11e9c9=_0xb2ee14;const _0x58c5b5='https://1.1.1.1/dns-query?name='+_0x8951db+_0x11e9c9(0x225);const _0x98ed83=await fetch(_0x58c5b5,{'headers':{'Accept':_0x11e9c9(0xa7)}});if(!_0x98ed83['ok'])throw new Error('DNS查询失败');const _0x539fa8=await _0x98ed83[_0x11e9c9(0xfb)]();const _0x383fec=(_0x539fa8[_0x11e9c9(0x1c9)]||[])['filter'](_0x4547b5=>_0x4547b5[_0x11e9c9(0xb9)]===0x1)[_0x11e9c9(0xf6)](_0x2e1297=>_0x2e1297[_0x11e9c9(0xeb)]);if(_0x383fec[_0x11e9c9(0x1a2)]===0x0)throw new Error(_0x11e9c9(0x12d));return _0x383fec[Math[_0x11e9c9(0x130)](Math[_0x11e9c9(0x24b)]()*_0x383fec[_0x11e9c9(0x1a2)])];}async function _0x419eb9(_0x638406){const _0x3e09e2=_0xb2ee14;const _0x31f4ea=connect({'hostname':_0x52ef7f(DNS64Server)?'['+DNS64Server+']':DNS64Server,'port':0x35});const _0x401c1f=_0x31f4ea[_0x3e09e2(0x9c)]['getWriter']();const _0x3ead73=_0x31f4ea['readable']['getReader']();try{const _0x345c21=_0x105b03(_0x638406);const _0x2bf760=new Uint8Array(_0x345c21[_0x3e09e2(0x1a2)]+0x2);_0x2bf760[0x0]=_0x345c21[_0x3e09e2(0x1a2)]>>0x8;_0x2bf760[0x1]=_0x345c21[_0x3e09e2(0x1a2)]&0xff;_0x2bf760[_0x3e09e2(0x12f)](_0x345c21,0x2);await _0x401c1f[_0x3e09e2(0x169)](_0x2bf760);const _0x4d611b=await _0x158db6(_0x3ead73);const _0x1ea007=_0x38d454(_0x4d611b);return _0x1ea007[_0x3e09e2(0x1a2)]>0x0?_0x1ea007[0x0]:_0x3e09e2(0xc2);}finally{await _0x401c1f[_0x3e09e2(0xdf)]();await _0x3ead73[_0x3e09e2(0x1c6)]();}}function _0x105b03(_0x323409){const _0x16aa76=_0xb2ee14;const _0x393c81=new ArrayBuffer(0x200);const _0x2592f9=new DataView(_0x393c81);let _0x5ec626=0x0;_0x2592f9[_0x16aa76(0xf7)](_0x5ec626,Math['floor'](Math[_0x16aa76(0x24b)]()*0x10000));_0x5ec626+=0x2;_0x2592f9['setUint16'](_0x5ec626,0x100);_0x5ec626+=0x2;_0x2592f9['setUint16'](_0x5ec626,0x1);_0x5ec626+=0x2;_0x2592f9[_0x16aa76(0xf7)](_0x5ec626,0x0);_0x5ec626+=0x6;for(const _0x41d0a8 of _0x323409['split']('.')){_0x2592f9[_0x16aa76(0x1e0)](_0x5ec626++,_0x41d0a8[_0x16aa76(0x1a2)]);for(let _0x572c67=0x0;_0x572c67<_0x41d0a8[_0x16aa76(0x1a2)];_0x572c67++){_0x2592f9['setUint8'](_0x5ec626++,_0x41d0a8[_0x16aa76(0x238)](_0x572c67));}}_0x2592f9[_0x16aa76(0x1e0)](_0x5ec626++,0x0);_0x2592f9[_0x16aa76(0xf7)](_0x5ec626,0x1c);_0x5ec626+=0x2;_0x2592f9[_0x16aa76(0xf7)](_0x5ec626,0x1);_0x5ec626+=0x2;return new Uint8Array(_0x393c81,0x0,_0x5ec626);}async function _0x158db6(_0x203919){const _0x5a82ad=_0xb2ee14;const _0x2317b4=[];let _0x485470=0x0;let _0x34ebc2=null;while(!![]){const {value:_0x446ef8,done:_0x519588}=await _0x203919['read']();if(_0x519588)break;_0x2317b4['push'](_0x446ef8);_0x485470+=_0x446ef8[_0x5a82ad(0x1a2)];if(_0x34ebc2===null&&_0x485470>=0x2){_0x34ebc2=_0x2317b4[0x0][0x0]<<0x8|_0x2317b4[0x0][0x1];}if(_0x34ebc2!==null&&_0x485470>=_0x34ebc2+0x2){break;}}const _0x1c12ed=new Uint8Array(_0x485470);let _0x5ef855=0x0;for(const _0x306883 of _0x2317b4){_0x1c12ed[_0x5a82ad(0x12f)](_0x306883,_0x5ef855);_0x5ef855+=_0x306883[_0x5a82ad(0x1a2)];}return _0x1c12ed[_0x5a82ad(0x1bd)](0x2);}function _0x38d454(_0x1f9e03){const _0x59e918=_0xb2ee14;const _0x3a69c4=new DataView(_0x1f9e03[_0x59e918(0x123)]);let _0x568fa1=0xc;while(_0x3a69c4[_0x59e918(0x168)](_0x568fa1)!==0x0){_0x568fa1+=_0x3a69c4[_0x59e918(0x168)](_0x568fa1)+0x1;}_0x568fa1+=0x5;const _0x2210c9=[];const _0x43054e=_0x3a69c4[_0x59e918(0x1a7)](0x6);for(let _0x2d8296=0x0;_0x2d8296<_0x43054e;_0x2d8296++){if((_0x3a69c4[_0x59e918(0x168)](_0x568fa1)&0xc0)===0xc0){_0x568fa1+=0x2;}else{while(_0x3a69c4[_0x59e918(0x168)](_0x568fa1)!==0x0){_0x568fa1+=_0x3a69c4[_0x59e918(0x168)](_0x568fa1)+0x1;}_0x568fa1++;}const _0x4082ee=_0x3a69c4[_0x59e918(0x1a7)](_0x568fa1);_0x568fa1+=0x2;_0x568fa1+=0x6;const _0x3c4d8d=_0x3a69c4[_0x59e918(0x1a7)](_0x568fa1);_0x568fa1+=0x2;if(_0x4082ee===0x1c&&_0x3c4d8d===0x10){const _0xd4d42=[];for(let _0x720eb9=0x0;_0x720eb9<0x8;_0x720eb9++){_0xd4d42[_0x59e918(0x211)](_0x3a69c4[_0x59e918(0x1a7)](_0x568fa1+_0x720eb9*0x2)[_0x59e918(0xb4)](0x10));}_0x2210c9[_0x59e918(0x211)](_0xd4d42[_0x59e918(0x198)](':'));}_0x568fa1+=_0x3c4d8d;}return _0x2210c9;}function _0x4d6ea2(_0x1c398d){const _0x2a995=_0xb2ee14;const _0x2a7b60=_0x1c398d[_0x2a995(0x85)]('.');if(_0x2a7b60['length']!==0x4){throw new Error(_0x2a995(0x16b));}const _0x25cef5=_0x2a7b60[_0x2a995(0xf6)](_0x4b3d37=>{const _0x524225=_0x2a995;const _0x5ca5b6=parseInt(_0x4b3d37,0xa);if(_0x5ca5b6<0x0||_0x5ca5b6>0xff){throw new Error('无效的IPv4地址段');}return _0x5ca5b6[_0x524225(0xb4)](0x10)[_0x524225(0x15f)](0x2,'0');});return DNS64Server[_0x2a995(0x85)](_0x2a995(0x26d))[0x0]+_0x25cef5[0x0]+_0x25cef5[0x1]+':'+_0x25cef5[0x2]+_0x25cef5[0x3];}try{if(_0x52ef7f(_0x3b2805))return _0x3b2805;const _0x3544ed=_0xe2cab2(_0x3b2805)?_0x3b2805:await _0x9b9694(_0x3b2805);const _0xdf943a=DNS64Server[_0xb2ee14(0xd7)]('/96')?_0x4d6ea2(_0x3544ed):await _0x419eb9(_0x3544ed+atob(_0xb2ee14(0x203)));return _0x52ef7f(_0xdf943a)?_0xdf943a:_0x1953f0;}catch(_0x38bff1){console[_0xb2ee14(0x18f)](_0xb2ee14(0xa8),_0x38bff1);return _0x1953f0;}}async function bestIP(_0x5a4894,_0x19bdc8,_0x1d35c3=_0x5a1b34(0x1e5)){const _0x5ebb32=_0x5a1b34;const _0x4fbf6a=_0x5a4894['cf']?.[_0x5ebb32(0x14a)]||'CN';const _0x3e2024=new URL(_0x5a4894[_0x5ebb32(0x1a6)]);async function _0x24f4f1(){const _0x144e2c=_0x5ebb32;try{const _0x4e39cd=await fetch(atob('aHR0cHM6Ly9jbG91ZGZsYXJlLWRucy5jb20vZG5zLXF1ZXJ5P25hbWU9bmlwLjA5MDIyNy54eXomdHlwZT1UWFQ='),{'headers':{'Accept':_0x144e2c(0xa7)}});if(_0x4e39cd['ok']){const _0x1ffa89=await _0x4e39cd[_0x144e2c(0xfb)]();if(_0x1ffa89['Status']===0x0&&_0x1ffa89['Answer']&&_0x1ffa89['Answer'][_0x144e2c(0x1a2)]>0x0){const _0x15a074=_0x1ffa89['Answer'][0x0][_0x144e2c(0xeb)];const _0x58585e=_0x15a074[_0x144e2c(0x147)](/^"(.*)"$/,'$1');console['log'](_0x144e2c(0xee)+_0x58585e);return _0x58585e;}}console['warn']('DoH解析失败，使用默认域名');return atob(_0x144e2c(0x280));}catch(_0x391330){console[_0x144e2c(0x18f)](_0x144e2c(0x166),_0x391330);return atob(_0x144e2c(0x20b));}}const _0x1911b4=await _0x24f4f1();async function _0x39cf63(_0x5aa7aa=_0x5ebb32(0x87),_0x459603=_0x5ebb32(0x1f6)){const _0x2a56cd=_0x5ebb32;try{let _0xadaa14;if(_0x5aa7aa===_0x2a56cd(0x1aa)){_0xadaa14=await fetch(_0x2a56cd(0xa6));}else if(_0x5aa7aa===_0x2a56cd(0x21a)){_0xadaa14=await fetch(_0x2a56cd(0xc8));}else if(_0x5aa7aa===_0x2a56cd(0xbf)){_0xadaa14=await fetch(_0x2a56cd(0x19e));}else if(_0x5aa7aa===_0x2a56cd(0x137)){_0xadaa14=await fetch(_0x2a56cd(0xab));}else if(_0x5aa7aa===_0x2a56cd(0x152)){_0xadaa14=await fetch('https://raw.githubusercontent.com/ipverse/asn-ip/master/as/199524/ipv4-aggregated.txt');}else if(_0x5aa7aa==='cm'){_0xadaa14=await fetch(_0x2a56cd(0x201));}else if(_0x5aa7aa===_0x2a56cd(0x207)){_0xadaa14=await fetch(_0x2a56cd(0x1d8));const _0x3b9bbf=_0xadaa14['ok']?await _0xadaa14[_0x2a56cd(0x154)]():'';const _0x3e7ab8=_0x3b9bbf[_0x2a56cd(0x85)]('\x0a')[_0x2a56cd(0xf6)](_0x369b09=>_0x369b09['trim']())['filter'](_0x39c755=>_0x39c755&&!_0x39c755[_0x2a56cd(0x230)]('#'));const _0x1965d1=[];for(const _0x5a028f of _0x3e7ab8){const _0x1b6ec0=_0x58b1a8(_0x5a028f,_0x459603);if(_0x1b6ec0){_0x1965d1['push'](_0x1b6ec0);}}console['log'](_0x2a56cd(0xcc)+_0x459603+_0x2a56cd(0x142)+_0x1965d1['length']+'个有效IP');if(_0x1965d1['length']>0x200){const _0x4a4f79=[..._0x1965d1][_0x2a56cd(0x187)](()=>0.5-Math[_0x2a56cd(0x24b)]());const _0x4548db=_0x4a4f79['slice'](0x0,0x200);console['log']('IP数量超过512个，随机选择了'+_0x4548db[_0x2a56cd(0x1a2)]+_0x2a56cd(0x143));return _0x4548db;}else{return _0x1965d1;}}else{_0xadaa14=await fetch(_0x2a56cd(0x1af));}const _0x180b0b=_0xadaa14['ok']?await _0xadaa14[_0x2a56cd(0x154)]():'173.245.48.0/20\x0a103.21.244.0/22\x0a103.22.200.0/22\x0a103.31.4.0/22\x0a141.101.64.0/18\x0a108.162.192.0/18\x0a190.93.240.0/20\x0a188.114.96.0/20\x0a197.234.240.0/22\x0a198.41.128.0/17\x0a162.158.0.0/15\x0a104.16.0.0/13\x0a104.24.0.0/14\x0a172.64.0.0/13\x0a131.0.72.0/22';const _0x11479a=_0x180b0b[_0x2a56cd(0x85)]('\x0a')[_0x2a56cd(0x285)](_0x188374=>_0x188374[_0x2a56cd(0x20a)]()&&!_0x188374['startsWith']('#'));const _0x490179=new Set();const _0x4b1530=0x200;let _0x334a86=0x1;while(_0x490179[_0x2a56cd(0x113)]<_0x4b1530){console['log']('第'+_0x334a86+_0x2a56cd(0xba)+_0x490179[_0x2a56cd(0x113)]+'个');for(const _0x3e15d4 of _0x11479a){if(_0x490179[_0x2a56cd(0x113)]>=_0x4b1530)break;const _0x10ca15=_0x1bddbc(_0x3e15d4[_0x2a56cd(0x20a)](),_0x334a86);_0x10ca15['forEach'](_0x2d3949=>_0x490179[_0x2a56cd(0x1c8)](_0x2d3949));console[_0x2a56cd(0x10d)](_0x2a56cd(0x1cd)+_0x3e15d4+'\x20第'+_0x334a86+_0x2a56cd(0x288)+_0x10ca15[_0x2a56cd(0x1a2)]+'个IP，总计'+_0x490179[_0x2a56cd(0x113)]+'个');}_0x334a86++;if(_0x334a86>0x64){console[_0x2a56cd(0xc1)](_0x2a56cd(0xe9));break;}}console['log'](_0x2a56cd(0x16e)+_0x490179[_0x2a56cd(0x113)]+_0x2a56cd(0x275));return Array['from'](_0x490179)['slice'](0x0,_0x4b1530);}catch(_0x285b89){console[_0x2a56cd(0x18f)]('获取CF\x20IPs失败:',_0x285b89);return[];}}function _0x58b1a8(_0x180543,_0x4ff07e){const _0x44d807=_0x5ebb32;try{_0x180543=_0x180543[_0x44d807(0x20a)]();if(!_0x180543)return null;let _0x544612='';let _0x44bc63='';let _0x492bb3='';if(_0x180543[_0x44d807(0x134)]('#')){const _0x468ff5=_0x180543[_0x44d807(0x85)]('#');const _0x5565df=_0x468ff5[0x0][_0x44d807(0x20a)]();_0x492bb3=_0x468ff5[0x1][_0x44d807(0x20a)]();if(_0x5565df[_0x44d807(0x134)](':')){const _0x2e84a2=_0x5565df[_0x44d807(0x85)](':');if(_0x2e84a2[_0x44d807(0x1a2)]===0x2){_0x544612=_0x2e84a2[0x0][_0x44d807(0x20a)]();_0x44bc63=_0x2e84a2[0x1][_0x44d807(0x20a)]();}else{console[_0x44d807(0xc1)]('无效的IP:端口格式:\x20'+_0x180543);return null;}}else{_0x544612=_0x5565df;_0x44bc63=_0x44d807(0x1f6);}}else{if(_0x180543[_0x44d807(0x134)](':')){const _0x453a42=_0x180543[_0x44d807(0x85)](':');if(_0x453a42['length']===0x2){_0x544612=_0x453a42[0x0]['trim']();_0x44bc63=_0x453a42[0x1][_0x44d807(0x20a)]();}else{console[_0x44d807(0xc1)](_0x44d807(0xe1)+_0x180543);return null;}}else{_0x544612=_0x180543;_0x44bc63='443';}}if(!_0x14fa5c(_0x544612)){console[_0x44d807(0xc1)](_0x44d807(0x179)+_0x544612+_0x44d807(0xa9)+_0x180543+')');return null;}const _0x3b4b29=parseInt(_0x44bc63);if(isNaN(_0x3b4b29)||_0x3b4b29<0x1||_0x3b4b29>0xffff){console['warn'](_0x44d807(0x1b1)+_0x44bc63+_0x44d807(0xa9)+_0x180543+')');return null;}if(_0x44bc63!==_0x4ff07e){return null;}if(_0x492bb3){return _0x544612+':'+_0x44bc63+'#'+_0x492bb3;}else{return _0x544612+':'+_0x44bc63;}}catch(_0x50c7e1){console[_0x44d807(0x18f)](_0x44d807(0x196)+_0x180543,_0x50c7e1);return null;}}function _0x14fa5c(_0xb1bde9){const _0x514f65=_0x5ebb32;const _0x2fd20e=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;const _0x3fbb57=_0xb1bde9[_0x514f65(0x16a)](_0x2fd20e);if(!_0x3fbb57)return![];for(let _0x3dad34=0x1;_0x3dad34<=0x4;_0x3dad34++){const _0x4da4a5=parseInt(_0x3fbb57[_0x3dad34]);if(_0x4da4a5<0x0||_0x4da4a5>0xff){return![];}}return!![];}function _0x1bddbc(_0x3ce0ab,_0x20cd48=0x1){const _0x1ee87e=_0x5ebb32;const [_0x13c94f,_0x4ff2d8]=_0x3ce0ab[_0x1ee87e(0x85)]('/');const _0x7f106d=parseInt(_0x4ff2d8);const _0x4ac99b=_0x476e5c=>{const _0x418b3d=_0x1ee87e;return _0x476e5c[_0x418b3d(0x85)]('.')['reduce']((_0x46e12d,_0x19d280)=>(_0x46e12d<<0x8)+parseInt(_0x19d280),0x0)>>>0x0;};const _0x24f711=_0x31724e=>{const _0x72106=_0x1ee87e;return[_0x31724e>>>0x18&0xff,_0x31724e>>>0x10&0xff,_0x31724e>>>0x8&0xff,_0x31724e&0xff][_0x72106(0x198)]('.');};const _0x320701=_0x4ac99b(_0x13c94f);const _0x380a06=0x20-_0x7f106d;const _0x3aacb2=Math['pow'](0x2,_0x380a06);const _0x419b2b=_0x3aacb2-0x2;const _0x1987dd=Math[_0x1ee87e(0x269)](_0x20cd48,_0x419b2b);const _0x3e0574=new Set();if(_0x419b2b<=0x0){return[];}let _0x4e918f=0x0;const _0x51b13c=_0x1987dd*0xa;while(_0x3e0574[_0x1ee87e(0x113)]<_0x1987dd&&_0x4e918f<_0x51b13c){const _0x16c8a7=Math[_0x1ee87e(0x130)](Math[_0x1ee87e(0x24b)]()*_0x419b2b)+0x1;const _0x35cc42=_0x24f711(_0x320701+_0x16c8a7);_0x3e0574['add'](_0x35cc42);_0x4e918f++;}return Array['from'](_0x3e0574);}if(_0x5a4894[_0x5ebb32(0x8a)]===_0x5ebb32(0x11a)){if(!_0x19bdc8['KV'])return new Response('未绑定KV空间',{'status':0x190});try{const _0x40b9d1=_0x5a4894['headers'][_0x5ebb32(0x1ac)](_0x5ebb32(0x1dd));if(_0x40b9d1&&_0x40b9d1[_0x5ebb32(0x134)](_0x5ebb32(0x190))){const _0x167059=await _0x5a4894[_0x5ebb32(0xfb)]();const _0x2fddff=_0x3e2024['searchParams']['get'](_0x5ebb32(0x96))||'save';if(!_0x167059[_0x5ebb32(0x287)]||!Array[_0x5ebb32(0x199)](_0x167059[_0x5ebb32(0x287)])){return new Response(JSON[_0x5ebb32(0x1f4)]({'error':'Invalid\x20IP\x20list'}),{'status':0x190,'headers':{'Content-Type':'application/json'}});}if(_0x2fddff===_0x5ebb32(0x231)){const _0xa301e5=await _0x19bdc8['KV'][_0x5ebb32(0x1ac)](_0x1d35c3)||'';const _0x86ccca=_0x167059[_0x5ebb32(0x287)][_0x5ebb32(0x198)]('\x0a');const _0x47f116=_0xa301e5?_0xa301e5[_0x5ebb32(0x85)]('\x0a')[_0x5ebb32(0xf6)](_0x52f8d0=>_0x52f8d0[_0x5ebb32(0x20a)]())[_0x5ebb32(0x285)](_0x170f08=>_0x170f08):[];const _0x3f1b23=_0x86ccca[_0x5ebb32(0x85)]('\x0a')['map'](_0x5789c3=>_0x5789c3['trim']())[_0x5ebb32(0x285)](_0x38d85e=>_0x38d85e);const _0x2a295a=[..._0x47f116,..._0x3f1b23];const _0x30de7f=[...new Set(_0x2a295a)];const _0x185f19=_0x30de7f[_0x5ebb32(0x198)]('\x0a');if(_0x185f19[_0x5ebb32(0x1a2)]>0x18*0x400*0x400){return new Response(JSON[_0x5ebb32(0x1f4)]({'error':'追加失败：合并后内容过大（'+(_0x185f19[_0x5ebb32(0x1a2)]/0x400/0x400)[_0x5ebb32(0x25f)](0x2)+_0x5ebb32(0xe7)}),{'status':0x190,'headers':{'Content-Type':_0x5ebb32(0x190)}});}await _0x19bdc8['KV'][_0x5ebb32(0xcd)](_0x1d35c3,_0x185f19);const _0x3882cd=_0x30de7f[_0x5ebb32(0x1a2)]-_0x47f116[_0x5ebb32(0x1a2)];const _0x374ed0=_0x3f1b23[_0x5ebb32(0x1a2)]-_0x3882cd;let _0x4cdbc0=_0x5ebb32(0x110)+_0x3882cd+'\x20个新的优选IP（原有\x20'+_0x47f116['length']+_0x5ebb32(0x246)+_0x30de7f[_0x5ebb32(0x1a2)]+_0x5ebb32(0x1c3);if(_0x374ed0>0x0){_0x4cdbc0+=_0x5ebb32(0xb6)+_0x374ed0+_0x5ebb32(0x1d4);}return new Response(JSON[_0x5ebb32(0x1f4)]({'success':!![],'message':_0x4cdbc0}),{'headers':{'Content-Type':'application/json'}});}else{const _0x293890=_0x167059['ips'][_0x5ebb32(0x198)]('\x0a');if(_0x293890[_0x5ebb32(0x1a2)]>0x18*0x400*0x400){return new Response(JSON[_0x5ebb32(0x1f4)]({'error':_0x5ebb32(0x1a1)}),{'status':0x190,'headers':{'Content-Type':_0x5ebb32(0x190)}});}await _0x19bdc8['KV'][_0x5ebb32(0xcd)](_0x1d35c3,_0x293890);return new Response(JSON[_0x5ebb32(0x1f4)]({'success':!![],'message':_0x5ebb32(0xff)+_0x167059[_0x5ebb32(0x287)][_0x5ebb32(0x1a2)]+_0x5ebb32(0xdb)}),{'headers':{'Content-Type':_0x5ebb32(0x190)}});}}else{const _0x3a2746=await _0x5a4894[_0x5ebb32(0x154)]();await _0x19bdc8['KV'][_0x5ebb32(0xcd)](_0x1d35c3,_0x3a2746);return new Response(_0x5ebb32(0xf1));}}catch(_0xbc2d4a){console[_0x5ebb32(0x18f)](_0x5ebb32(0x193),_0xbc2d4a);return new Response(JSON[_0x5ebb32(0x1f4)]({'error':_0x5ebb32(0x223)+_0xbc2d4a['message']}),{'status':0x1f4,'headers':{'Content-Type':'application/json'}});}}let _0x594468='';let _0x238da9=!!_0x19bdc8['KV'];if(_0x238da9){try{_0x594468=await _0x19bdc8['KV'][_0x5ebb32(0x1ac)](_0x1d35c3)||'';}catch(_0x4038a0){console[_0x5ebb32(0x18f)](_0x5ebb32(0xfe),_0x4038a0);_0x594468=_0x5ebb32(0x117)+_0x4038a0[_0x5ebb32(0xe0)];}}const _0x560bdc=[];const _0x1107f0=_0x4fbf6a==='CN';const _0x3a4a05=_0x1107f0?'':'proxy-warning';const _0x5205e9=_0x1107f0?''+_0x4fbf6a:_0x4fbf6a+_0x5ebb32(0xca);const _0x11e491=_0x5ebb32(0xf2)+(!_0x1107f0?_0x5ebb32(0x20f):'')+_0x5ebb32(0x274)+_0x3a4a05+'\x22>'+_0x5205e9+_0x5ebb32(0x128)+_0x1911b4+_0x5ebb32(0x257)+_0x1911b4+_0x5ebb32(0x180);if(_0x3e2024[_0x5ebb32(0x1a0)][_0x5ebb32(0x1ac)](_0x5ebb32(0x22a))){const _0x2577e3=_0x3e2024[_0x5ebb32(0x1a0)][_0x5ebb32(0x1ac)](_0x5ebb32(0x22a));const _0x556248=_0x3e2024[_0x5ebb32(0x1a0)][_0x5ebb32(0x1ac)]('port')||_0x5ebb32(0x1f6);const _0x18c786=await _0x39cf63(_0x2577e3,_0x556248);return new Response(JSON[_0x5ebb32(0x1f4)]({'ips':_0x18c786}),{'headers':{'Content-Type':_0x5ebb32(0x190)}});}return new Response(_0x11e491,{'headers':{'Content-Type':_0x5ebb32(0x236)}});}async function getUsage(_0x317680,_0x4d810b,_0x456fb4,_0x54ab7e,_0x41ad94=0x186a0){const _0x2538d3=_0x5a1b34;async function _0x5da535(_0x5de49d,_0x10e172){const _0x3ec986=_0x3ac9;console['log'](_0x3ec986(0x1ef));const _0x24e622=await fetch(_0x3ec986(0x1b7),{'method':_0x3ec986(0x273),'headers':{'Content-Type':'application/json','X-AUTH-EMAIL':_0x5de49d,'X-AUTH-KEY':_0x10e172}});if(!_0x24e622['ok']){const _0x1d3d97=await _0x24e622['text']();console[_0x3ec986(0x18f)](_0x3ec986(0x1bf)+_0x24e622[_0x3ec986(0xd9)]+'\x20'+_0x24e622[_0x3ec986(0xae)],_0x1d3d97);throw new Error(_0x3ec986(0xbc)+_0x24e622[_0x3ec986(0xd9)]+'\x20'+_0x24e622[_0x3ec986(0xae)]+_0x3ec986(0x80)+_0x1d3d97);}const _0x5aeb95=await _0x24e622[_0x3ec986(0xfb)]();let _0x36204c=0x0;let _0x49b6c3=![];if(_0x5aeb95?.[_0x3ec986(0xbd)]&&_0x5aeb95[_0x3ec986(0xbd)][_0x3ec986(0x1a2)]>0x1){console[_0x3ec986(0x10d)](_0x3ec986(0x23c)+_0x5aeb95[_0x3ec986(0xbd)][_0x3ec986(0x1a2)]+_0x3ec986(0x27e));const _0x5dfd0f=_0x5de49d[_0x3ec986(0x98)]();console[_0x3ec986(0x10d)](_0x3ec986(0xe2)+_0x5dfd0f);for(let _0x1b6542=0x0;_0x1b6542<_0x5aeb95[_0x3ec986(0xbd)][_0x3ec986(0x1a2)];_0x1b6542++){const _0x2db539=_0x5aeb95[_0x3ec986(0xbd)][_0x1b6542]?.[_0x3ec986(0x9d)]?.[_0x3ec986(0x98)]()||'';console[_0x3ec986(0x10d)]('检查账户\x20'+_0x1b6542+':\x20'+_0x5aeb95['result'][_0x1b6542]?.['name']);if(_0x2db539[_0x3ec986(0x230)](_0x5dfd0f)){_0x36204c=_0x1b6542;_0x49b6c3=!![];console[_0x3ec986(0x10d)]('✅\x20找到匹配账户，使用第\x20'+_0x1b6542+_0x3ec986(0x208));break;}}if(!_0x49b6c3){console[_0x3ec986(0x10d)](_0x3ec986(0x139));}}else if(_0x5aeb95?.[_0x3ec986(0xbd)]&&_0x5aeb95[_0x3ec986(0xbd)][_0x3ec986(0x1a2)]===0x1){console['log'](_0x3ec986(0x1ae));_0x49b6c3=!![];}const _0x55d704=_0x5aeb95?.[_0x3ec986(0xbd)]?.[_0x36204c]?.[_0x3ec986(0x9d)];const _0x1e2950=_0x5aeb95?.['result']?.[_0x36204c]?.['id'];console['log'](_0x3ec986(0x20c)+_0x36204c+_0x3ec986(0x135)+_0x55d704+_0x3ec986(0x150)+_0x1e2950);if(!_0x1e2950){throw new Error(_0x3ec986(0x8b));}return _0x1e2950;}try{if(!_0x317680){console['log'](_0x2538d3(0x21c));_0x317680=await _0x5da535(_0x4d810b,_0x456fb4);}const _0x1d9db6=new Date();const _0x436824=_0x1d9db6['toISOString']();_0x1d9db6[_0x2538d3(0x27c)](0x0,0x0,0x0,0x0);const _0x59070a=_0x1d9db6[_0x2538d3(0xa3)]();console[_0x2538d3(0x10d)](_0x2538d3(0x174)+_0x59070a+_0x2538d3(0x146)+_0x436824);let _0xb3a7b8={};if(_0x456fb4){_0xb3a7b8={'Content-Type':_0x2538d3(0x190),'X-AUTH-EMAIL':_0x4d810b,'X-AUTH-KEY':_0x456fb4};}if(_0x54ab7e){_0xb3a7b8={'Content-Type':_0x2538d3(0x190),'Authorization':_0x2538d3(0xbb)+_0x54ab7e};}const _0x17dff7=await fetch(_0x2538d3(0xe3),{'method':'POST','headers':_0xb3a7b8,'body':JSON[_0x2538d3(0x1f4)]({'query':_0x2538d3(0x1dc),'variables':{'accountId':_0x317680,'filter':{'datetime_geq':_0x59070a,'datetime_leq':_0x436824}}})});if(!_0x17dff7['ok']){const _0x59fd4a=await _0x17dff7[_0x2538d3(0x154)]();console[_0x2538d3(0x18f)](_0x2538d3(0x210)+_0x17dff7[_0x2538d3(0xd9)]+'\x20'+_0x17dff7['statusText'],_0x59fd4a);console['log']('返回默认值：全部为0');return[_0x41ad94,0x0,0x0,0x0];}const _0x164276=await _0x17dff7[_0x2538d3(0xfb)]();if(_0x164276[_0x2538d3(0x114)]&&_0x164276[_0x2538d3(0x114)][_0x2538d3(0x1a2)]>0x0){console[_0x2538d3(0x18f)](_0x2538d3(0x1bc),_0x164276['errors'][0x0][_0x2538d3(0xe0)]);console[_0x2538d3(0x10d)](_0x2538d3(0xd8));return[_0x41ad94,0x0,0x0,0x0];}const _0x190fcb=_0x164276?.['data']?.['viewer']?.['accounts']?.[0x0];if(!_0x190fcb){console['warn'](_0x2538d3(0x82));return[_0x41ad94,0x0,0x0,0x0];}const _0x34b9ad=_0x190fcb?.[_0x2538d3(0xf8)]||[];const _0x4f5b7d=_0x34b9ad[_0x2538d3(0x191)]((_0x12f77d,_0x1bc311)=>{return _0x12f77d+(_0x1bc311?.['sum']?.['requests']||0x0);},0x0);const _0x7acd07=_0x190fcb?.[_0x2538d3(0x262)]||[];const _0x2edb1c=_0x7acd07[_0x2538d3(0x191)]((_0x52942a,_0x64e05a)=>{const _0x5e58ea=_0x2538d3;return _0x52942a+(_0x64e05a?.['sum']?.[_0x5e58ea(0x144)]||0x0);},0x0);const _0x40933f=_0x4f5b7d+_0x2edb1c;console[_0x2538d3(0x10d)](_0x2538d3(0x13a)+_0x4f5b7d+_0x2538d3(0x268)+_0x2edb1c+_0x2538d3(0x132)+_0x40933f);return[_0x41ad94,_0x4f5b7d||0x0,_0x2edb1c||0x0,_0x40933f||0x0];}catch(_0x271d29){console[_0x2538d3(0x18f)](_0x2538d3(0xd1),_0x271d29[_0x2538d3(0xe0)]);return[_0x41ad94,0x0,0x0,0x0];}}function _0x3ac9(_0x139734,_0x30c63b){const _0x1cf3a9=_0x1cf3();_0x3ac9=function(_0x3ac96a,_0x4e6549){_0x3ac96a=_0x3ac96a-0x7c;let _0x506517=_0x1cf3a9[_0x3ac96a];return _0x506517;};return _0x3ac9(_0x139734,_0x30c63b);}async function nginx(){const _0x302db5=_0x5a1b34;const _0x2c49bb=_0x302db5(0x283);return _0x2c49bb;}
